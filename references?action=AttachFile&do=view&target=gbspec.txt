<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="noindex,nofollow">

<title>attachment:gbspec.txt of ECE238Spr08/references - CRATEL Wiki</title>
<script type="text/javascript" src="/wiki/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/wiki/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/wiki/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/wiki/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/wiki/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/wiki/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="CRATEL Wiki: ECE238Spr08/references" href="/cratel/ECE238Spr08/references?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=ECE238Spr08%2Freferences&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="/cratel/cratel">
<link rel="Alternate" title="Wiki Markup" href="/cratel/ECE238Spr08/references?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/cratel/ECE238Spr08/references?action=print">
<link rel="Up" href="/cratel/ECE238Spr08">
<link rel="Appendix" title="gbcribbw.pdf" href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=view&amp;target=gbcribbw.pdf">
<link rel="Appendix" title="gbcribcolor.pdf" href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=view&amp;target=gbcribcolor.pdf">
<link rel="Appendix" title="gbspec.txt" href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=view&amp;target=gbspec.txt">
<link rel="Search" href="/cratel/FindPage">
<link rel="Index" href="/cratel/TitleIndex">
<link rel="Glossary" href="/cratel/WordIndex">
<link rel="Help" href="/cratel/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<div id="header">
<div id="logo"><a href="/cratel/cratel"><img src="/wiki/common/cratel-old-logo.png" alt="CRATEL logo"></a></div>

<form id="searchform" method="get" action="/cratel/ECE238Spr08/references">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="/cratel/ECE238Spr08/references?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">


<ul id="pagelocation">
<li>attachment:gbspec.txt of ECE238Spr08/references</li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="/cratel/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="/cratel/FindPage">FindPage</a></li><li class="wikilink"><a href="/cratel/HelpContents">HelpContents</a></li><li class="current"><a href="/cratel/ECE238Spr08/references">ECE238Spr08/references</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/cratel/ECE238Spr08/references?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/cratel/ECE238Spr08/references?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/cratel/ECE238Spr08/references">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="show" disabled class="disabled">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="EmailActivation">EmailActivation</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<h2>Attachment 'gbspec.txt'</h2><a class="download" href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=get&amp;target=gbspec.txt">Download</a><br><br><span class="anchor" id="line-1"></span><div class="highlight text"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-bf574d52b7281d1a10c563e709115fbc2e6dff94\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1">   1</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1"></span><span class="anchor" id="line-1-1"></span>============================================================================</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_2">   2</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_2"></span><span class="anchor" id="line-2"></span>            Everything You Always Wanted To Know About GAMEBOY *</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_3">   3</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_3"></span><span class="anchor" id="line-3"></span>============================================================================</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_4">   4</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_4"></span><span class="anchor" id="line-4"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_5">   5</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_5"></span><span class="anchor" id="line-5"></span>                        * but were afraid to ask</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_6">   6</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_6"></span><span class="anchor" id="line-6"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_7">   7</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_7"></span><span class="anchor" id="line-7"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_8">   8</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_8"></span><span class="anchor" id="line-8"></span>             Pan of -ATX- Document Updated by contributions from:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_9">   9</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_9"></span><span class="anchor" id="line-9"></span>          Marat Fayzullin, Pascal Felber, Paul Robson, Martin Korth</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_10">  10</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_10"></span><span class="anchor" id="line-10"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_11">  11</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_11"></span><span class="anchor" id="line-11"></span>                      Last update 7-Mar-08 by John Harrison</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_12">  12</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_12"></span><span class="anchor" id="line-12"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_13">  13</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_13"></span><span class="anchor" id="line-13"></span> Forward: The following was typed up for informational purposes regarding</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_14">  14</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_14"></span><span class="anchor" id="line-14"></span>          the inner workings on the hand-held game machine known as</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_15">  15</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_15"></span><span class="anchor" id="line-15"></span>          GameBoy, manufactured and designed by Nintendo Co., LTD.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_16">  16</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_16"></span><span class="anchor" id="line-16"></span>          This info is presented to inform a user on how their Game Boy</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_17">  17</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_17"></span><span class="anchor" id="line-17"></span>          works and what makes it "tick". GameBoy is copyrighted by</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_18">  18</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_18"></span><span class="anchor" id="line-18"></span>          Nintendo Co., LTD. Any reference to copyrighted material is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_19">  19</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_19"></span><span class="anchor" id="line-19"></span>          not presented for monetary gain, but for educational purposes</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_20">  20</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_20"></span><span class="anchor" id="line-20"></span>          and higher learning.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_21">  21</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_21"></span><span class="anchor" id="line-21"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_22">  22</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_22"></span><span class="anchor" id="line-22"></span>Terms</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_23">  23</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_23"></span><span class="anchor" id="line-23"></span>-----</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_24">  24</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_24"></span><span class="anchor" id="line-24"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_25">  25</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_25"></span><span class="anchor" id="line-25"></span> GB = Original GameBoy</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_26">  26</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_26"></span><span class="anchor" id="line-26"></span> GBP = GameBoy Pocket/GameBoy Light</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_27">  27</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_27"></span><span class="anchor" id="line-27"></span> GBC = GameBoy Colo(u)r</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_28">  28</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_28"></span><span class="anchor" id="line-28"></span> SGB = Super GameBoy</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_29">  29</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_29"></span><span class="anchor" id="line-29"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_30">  30</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_30"></span><span class="anchor" id="line-30"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_31">  31</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_31"></span><span class="anchor" id="line-31"></span>Game Boy Specs</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_32">  32</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_32"></span><span class="anchor" id="line-32"></span>--------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_33">  33</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_33"></span><span class="anchor" id="line-33"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_34">  34</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_34"></span><span class="anchor" id="line-34"></span> CPU: 8-bit (Similar to the Z80 processor.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_35">  35</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_35"></span><span class="anchor" id="line-35"></span> Main RAM: 8K Byte</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_36">  36</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_36"></span><span class="anchor" id="line-36"></span> Video RAM: 8K Byte</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_37">  37</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_37"></span><span class="anchor" id="line-37"></span> Screen Size 2.6"</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_38">  38</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_38"></span><span class="anchor" id="line-38"></span> Resolution: 160x144 (20x18 tiles)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_39">  39</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_39"></span><span class="anchor" id="line-39"></span> Max # of sprites: 40</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_40">  40</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_40"></span><span class="anchor" id="line-40"></span> Max # sprites/line: 10</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_41">  41</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_41"></span><span class="anchor" id="line-41"></span> Max sprite size: 8x16</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_42">  42</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_42"></span><span class="anchor" id="line-42"></span> Min sprite size: 8x8</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_43">  43</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_43"></span><span class="anchor" id="line-43"></span> Clock Speed: 4.194304 MHz (4.295454 SGB, 4.194/8.388MHz GBC)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_44">  44</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_44"></span><span class="anchor" id="line-44"></span> Horiz Sync: 9198 KHz (9420 KHz for SGB)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_45">  45</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_45"></span><span class="anchor" id="line-45"></span> Vert Sync: 59.73 Hz (61.17 Hz for SGB)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_46">  46</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_46"></span><span class="anchor" id="line-46"></span> Sound: 4 channels with stereo sound</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_47">  47</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_47"></span><span class="anchor" id="line-47"></span> Power: DC6V 0.7W (DC3V 0.7W for GB Pocket)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_48">  48</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_48"></span><span class="anchor" id="line-48"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_49">  49</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_49"></span><span class="anchor" id="line-49"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_50">  50</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_50"></span><span class="anchor" id="line-50"></span>Processor</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_51">  51</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_51"></span><span class="anchor" id="line-51"></span>---------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_52">  52</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_52"></span><span class="anchor" id="line-52"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_53">  53</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_53"></span><span class="anchor" id="line-53"></span>  The GameBoy uses a computer chip similar to an Intel 8080.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_54">  54</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_54"></span><span class="anchor" id="line-54"></span> It contains all of the instructions of an 8080 except there</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_55">  55</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_55"></span><span class="anchor" id="line-55"></span> are no exchange instructions. In many ways the processor is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_56">  56</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_56"></span><span class="anchor" id="line-56"></span> more similar to the Zilog Z80 processor. Compared to the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_57">  57</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_57"></span><span class="anchor" id="line-57"></span> Z80, some instructions have been added and some have been</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_58">  58</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_58"></span><span class="anchor" id="line-58"></span> taken away.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_59">  59</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_59"></span><span class="anchor" id="line-59"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_60">  60</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_60"></span><span class="anchor" id="line-60"></span> The following are added instructions:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_61">  61</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_61"></span><span class="anchor" id="line-61"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_62">  62</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_62"></span><span class="anchor" id="line-62"></span>  ADD  SP,nn             ;nn = signed byte</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_63">  63</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_63"></span><span class="anchor" id="line-63"></span>  LD  (HLI),A            ;Write A to (HL) and increment HL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_64">  64</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_64"></span><span class="anchor" id="line-64"></span>  LD  (HLD),A            ;Write A to (HL) and decrement HL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_65">  65</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_65"></span><span class="anchor" id="line-65"></span>  LD  A,(HLI)            ;Write (HL) to A and increment HL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_66">  66</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_66"></span><span class="anchor" id="line-66"></span>  LD  A,(HLD)            ;Write (HL) to A and decrement HL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_67">  67</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_67"></span><span class="anchor" id="line-67"></span>  LD  A,($FF00+nn)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_68">  68</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_68"></span><span class="anchor" id="line-68"></span>  LD  A,($FF00+C)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_69">  69</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_69"></span><span class="anchor" id="line-69"></span>  LD  ($FF00+nn),A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_70">  70</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_70"></span><span class="anchor" id="line-70"></span>  LD  ($FF00+C),A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_71">  71</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_71"></span><span class="anchor" id="line-71"></span>  LD  (nnnn),SP</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_72">  72</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_72"></span><span class="anchor" id="line-72"></span>  LD  HL,SP+nn           ;nn = signed byte</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_73">  73</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_73"></span><span class="anchor" id="line-73"></span>  STOP                   ;Stop processor &amp; screen until button press</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_74">  74</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_74"></span><span class="anchor" id="line-74"></span>  SWAP r                 ;Swap high &amp; low nibbles of r</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_75">  75</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_75"></span><span class="anchor" id="line-75"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_76">  76</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_76"></span><span class="anchor" id="line-76"></span> The following instructions have been removed:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_77">  77</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_77"></span><span class="anchor" id="line-77"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_78">  78</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_78"></span><span class="anchor" id="line-78"></span>  Any command that uses the IX or IY registers.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_79">  79</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_79"></span><span class="anchor" id="line-79"></span>  All IN/OUT instructions.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_80">  80</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_80"></span><span class="anchor" id="line-80"></span>  All exchange instructions.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_81">  81</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_81"></span><span class="anchor" id="line-81"></span>  All commands prefixed by ED (except remapped RETI).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_82">  82</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_82"></span><span class="anchor" id="line-82"></span>  All conditional jumps/calls/rets on parity/overflow and sign flag.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_83">  83</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_83"></span><span class="anchor" id="line-83"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_84">  84</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_84"></span><span class="anchor" id="line-84"></span> The following instructions have different opcodes:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_85">  85</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_85"></span><span class="anchor" id="line-85"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_86">  86</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_86"></span><span class="anchor" id="line-86"></span>  LD  A,[nnnn]</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_87">  87</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_87"></span><span class="anchor" id="line-87"></span>  LD  [nnnn],A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_88">  88</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_88"></span><span class="anchor" id="line-88"></span>  RETI</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_89">  89</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_89"></span><span class="anchor" id="line-89"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_90">  90</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_90"></span><span class="anchor" id="line-90"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_91">  91</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_91"></span><span class="anchor" id="line-91"></span>GB General Memory Map*</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_92">  92</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_92"></span><span class="anchor" id="line-92"></span>---------------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_93">  93</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_93"></span><span class="anchor" id="line-93"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_94">  94</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_94"></span><span class="anchor" id="line-94"></span>  Interrupt Enable Register</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_95">  95</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_95"></span><span class="anchor" id="line-95"></span> --------------------------- FFFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_96">  96</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_96"></span><span class="anchor" id="line-96"></span>  Internal RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_97">  97</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_97"></span><span class="anchor" id="line-97"></span> --------------------------- FF80</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_98">  98</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_98"></span><span class="anchor" id="line-98"></span>  Empty but unusable for I/O</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_99">  99</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_99"></span><span class="anchor" id="line-99"></span> --------------------------- FF4C</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_100"> 100</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_100"></span><span class="anchor" id="line-100"></span>  I/O ports</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_101"> 101</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_101"></span><span class="anchor" id="line-101"></span> --------------------------- FF00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_102"> 102</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_102"></span><span class="anchor" id="line-102"></span>  Empty but unusable for I/O</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_103"> 103</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_103"></span><span class="anchor" id="line-103"></span> --------------------------- FEA0</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_104"> 104</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_104"></span><span class="anchor" id="line-104"></span>  Sprite Attrib Memory (OAM)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_105"> 105</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_105"></span><span class="anchor" id="line-105"></span> --------------------------- FE00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_106"> 106</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_106"></span><span class="anchor" id="line-106"></span>  Echo of 8kB Internal RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_107"> 107</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_107"></span><span class="anchor" id="line-107"></span> --------------------------- E000</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_108"> 108</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_108"></span><span class="anchor" id="line-108"></span>  8kB Internal RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_109"> 109</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_109"></span><span class="anchor" id="line-109"></span> --------------------------- C000</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_110"> 110</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_110"></span><span class="anchor" id="line-110"></span>  8kB switchable RAM bank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_111"> 111</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_111"></span><span class="anchor" id="line-111"></span> --------------------------- A000</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_112"> 112</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_112"></span><span class="anchor" id="line-112"></span>  8kB Video RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_113"> 113</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_113"></span><span class="anchor" id="line-113"></span> --------------------------- 8000</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_114"> 114</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_114"></span><span class="anchor" id="line-114"></span>  32kB Cartridge</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_115"> 115</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_115"></span><span class="anchor" id="line-115"></span> --------------------------- 0000</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_116"> 116</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_116"></span><span class="anchor" id="line-116"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_117"> 117</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_117"></span><span class="anchor" id="line-117"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_118"> 118</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_118"></span><span class="anchor" id="line-118"></span> * NOTE: b = bit, B = byte</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_119"> 119</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_119"></span><span class="anchor" id="line-119"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_120"> 120</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_120"></span><span class="anchor" id="line-120"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_121"> 121</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_121"></span><span class="anchor" id="line-121"></span>Echo of 8kB Internal RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_122"> 122</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_122"></span><span class="anchor" id="line-122"></span>------------------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_123"> 123</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_123"></span><span class="anchor" id="line-123"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_124"> 124</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_124"></span><span class="anchor" id="line-124"></span> The addresses E000-FE00 appear to access the internal RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_125"> 125</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_125"></span><span class="anchor" id="line-125"></span>the same as C000-DE00. (i.e. If you write a byte to address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_126"> 126</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_126"></span><span class="anchor" id="line-126"></span>E000 it will appear at C000 and E000. Similarly, writing a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_127"> 127</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_127"></span><span class="anchor" id="line-127"></span>byte to C000 will appear at C000 and E000.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_128"> 128</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_128"></span><span class="anchor" id="line-128"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_129"> 129</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_129"></span><span class="anchor" id="line-129"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_130"> 130</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_130"></span><span class="anchor" id="line-130"></span>User I/O</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_131"> 131</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_131"></span><span class="anchor" id="line-131"></span>--------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_132"> 132</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_132"></span><span class="anchor" id="line-132"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_133"> 133</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_133"></span><span class="anchor" id="line-133"></span> There are no empty spaces in the memory map for</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_134"> 134</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_134"></span><span class="anchor" id="line-134"></span>implementing input ports except the switchable RAM bank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_135"> 135</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_135"></span><span class="anchor" id="line-135"></span>area (not an option on the Super Smart Card since it's</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_136"> 136</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_136"></span><span class="anchor" id="line-136"></span>RAM bank is always enabled).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_137"> 137</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_137"></span><span class="anchor" id="line-137"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_138"> 138</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_138"></span><span class="anchor" id="line-138"></span> An output only port may be implemented anywhere between</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_139"> 139</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_139"></span><span class="anchor" id="line-139"></span>A000-FDFF. If implemented in a RAM area care should be</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_140"> 140</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_140"></span><span class="anchor" id="line-140"></span>taken to use an area of RAM not used for anything else.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_141"> 141</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_141"></span><span class="anchor" id="line-141"></span>(FE00 and above can't be used because the CPU doesn't</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_142"> 142</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_142"></span><span class="anchor" id="line-142"></span>generate an external /WR for these locations.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_143"> 143</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_143"></span><span class="anchor" id="line-143"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_144"> 144</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_144"></span><span class="anchor" id="line-144"></span> If you have a cart with an MBC1, a ROM 4Mbit or smaller,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_145"> 145</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_145"></span><span class="anchor" id="line-145"></span>and a RAM 8Kbyte or smaller (or no RAM) then you can use</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_146"> 146</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_146"></span><span class="anchor" id="line-146"></span>pins 6 &amp; 7 of the MBC1 for 2 digital output pins for</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_147"> 147</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_147"></span><span class="anchor" id="line-147"></span>whatever purpose you wish. To use them you must first</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_148"> 148</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_148"></span><span class="anchor" id="line-148"></span>put the MBC1 into 4MbitROM/32KbyteRAM mode by writing</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_149"> 149</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_149"></span><span class="anchor" id="line-149"></span>01 to 6000. The two least significant bits you write</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_150"> 150</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_150"></span><span class="anchor" id="line-150"></span>to 4000 will then be output to these pins.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_151"> 151</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_151"></span><span class="anchor" id="line-151"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_152"> 152</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_152"></span><span class="anchor" id="line-152"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_153"> 153</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_153"></span><span class="anchor" id="line-153"></span>Reserved Memory Locations</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_154"> 154</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_154"></span><span class="anchor" id="line-154"></span>-------------------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_155"> 155</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_155"></span><span class="anchor" id="line-155"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_156"> 156</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_156"></span><span class="anchor" id="line-156"></span>0000       Restart $00 Address (RST $00 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_157"> 157</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_157"></span><span class="anchor" id="line-157"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_158"> 158</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_158"></span><span class="anchor" id="line-158"></span>0008       Restart $08 Address (RST $08 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_159"> 159</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_159"></span><span class="anchor" id="line-159"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_160"> 160</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_160"></span><span class="anchor" id="line-160"></span>0010       Restart $10 Address (RST $10 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_161"> 161</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_161"></span><span class="anchor" id="line-161"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_162"> 162</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_162"></span><span class="anchor" id="line-162"></span>0018       Restart $18 Address (RST $18 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_163"> 163</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_163"></span><span class="anchor" id="line-163"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_164"> 164</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_164"></span><span class="anchor" id="line-164"></span>0020       Restart $20 Address (RST $20 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_165"> 165</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_165"></span><span class="anchor" id="line-165"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_166"> 166</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_166"></span><span class="anchor" id="line-166"></span>0028       Restart $28 Address (RST $28 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_167"> 167</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_167"></span><span class="anchor" id="line-167"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_168"> 168</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_168"></span><span class="anchor" id="line-168"></span>0030       Restart $30 Address (RST $30 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_169"> 169</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_169"></span><span class="anchor" id="line-169"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_170"> 170</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_170"></span><span class="anchor" id="line-170"></span>0038       Restart $38 Address (RST $38 calls this address.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_171"> 171</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_171"></span><span class="anchor" id="line-171"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_172"> 172</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_172"></span><span class="anchor" id="line-172"></span>0040       Vertical Blank Interrupt Start Address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_173"> 173</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_173"></span><span class="anchor" id="line-173"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_174"> 174</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_174"></span><span class="anchor" id="line-174"></span>0048       LCDC Status Interrupt Start Address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_175"> 175</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_175"></span><span class="anchor" id="line-175"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_176"> 176</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_176"></span><span class="anchor" id="line-176"></span>0050       Timer Overflow Interrupt Start Address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_177"> 177</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_177"></span><span class="anchor" id="line-177"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_178"> 178</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_178"></span><span class="anchor" id="line-178"></span>0058       Serial Transfer Completion Interrupt Start Address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_179"> 179</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_179"></span><span class="anchor" id="line-179"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_180"> 180</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_180"></span><span class="anchor" id="line-180"></span>0060       High-to-Low of P10-P13 Interrupt Start Address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_181"> 181</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_181"></span><span class="anchor" id="line-181"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_182"> 182</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_182"></span><span class="anchor" id="line-182"></span>An internal information area is located at 0100-014F in</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_183"> 183</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_183"></span><span class="anchor" id="line-183"></span>each cartridge. It contains the following values:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_184"> 184</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_184"></span><span class="anchor" id="line-184"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_185"> 185</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_185"></span><span class="anchor" id="line-185"></span>0100-0103  This is the begin code execution point in a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_186"> 186</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_186"></span><span class="anchor" id="line-186"></span>           cart. Usually there is a NOP and a JP</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_187"> 187</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_187"></span><span class="anchor" id="line-187"></span>           instruction here but not always.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_188"> 188</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_188"></span><span class="anchor" id="line-188"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_189"> 189</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_189"></span><span class="anchor" id="line-189"></span>0104-0133  Scrolling Nintendo graphic:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_190"> 190</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_190"></span><span class="anchor" id="line-190"></span>           CE ED 66 66 CC 0D 00 0B 03 73 00 83 00 0C 00 0D</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_191"> 191</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_191"></span><span class="anchor" id="line-191"></span>           00 08 11 1F 88 89 00 0E DC CC 6E E6 DD DD D9 99</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_192"> 192</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_192"></span><span class="anchor" id="line-192"></span>           BB BB 67 63 6E 0E EC CC DD DC 99 9F BB B9 33 3E</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_193"> 193</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_193"></span><span class="anchor" id="line-193"></span>           ( PROGRAM WON'T RUN IF CHANGED!!!)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_194"> 194</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_194"></span><span class="anchor" id="line-194"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_195"> 195</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_195"></span><span class="anchor" id="line-195"></span>0134-0142  Title of the game in UPPER CASE ASCII. If it</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_196"> 196</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_196"></span><span class="anchor" id="line-196"></span>           is less than 16 characters then the remaining</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_197"> 197</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_197"></span><span class="anchor" id="line-197"></span>           bytes are filled with 00's.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_198"> 198</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_198"></span><span class="anchor" id="line-198"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_199"> 199</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_199"></span><span class="anchor" id="line-199"></span>0143       $80 = Color GB, $00 or other = not Color GB</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_200"> 200</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_200"></span><span class="anchor" id="line-200"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_201"> 201</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_201"></span><span class="anchor" id="line-201"></span>0144       Ascii hex digit, high nibble of licensee code (new).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_202"> 202</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_202"></span><span class="anchor" id="line-202"></span>0145       Ascii hex digit, low nibble of licensee code (new).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_203"> 203</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_203"></span><span class="anchor" id="line-203"></span>           (These are normally $00 if [$014B] &lt;&gt; $33.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_204"> 204</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_204"></span><span class="anchor" id="line-204"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_205"> 205</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_205"></span><span class="anchor" id="line-205"></span>0146       GB/SGB Indicator (00 = GameBoy, 03 = Super GameBoy functions)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_206"> 206</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_206"></span><span class="anchor" id="line-206"></span>           (Super GameBoy functions won't work if &lt;&gt; $03.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_207"> 207</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_207"></span><span class="anchor" id="line-207"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_208"> 208</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_208"></span><span class="anchor" id="line-208"></span>0147       Cartridge type:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_209"> 209</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_209"></span><span class="anchor" id="line-209"></span>           0 - ROM ONLY                12 - ROM+MBC3+RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_210"> 210</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_210"></span><span class="anchor" id="line-210"></span>           1 - ROM+MBC1                13 - ROM+MBC3+RAM+BATT</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_211"> 211</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_211"></span><span class="anchor" id="line-211"></span>           2 - ROM+MBC1+RAM            19 - ROM+MBC5</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_212"> 212</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_212"></span><span class="anchor" id="line-212"></span>           3 - ROM+MBC1+RAM+BATT       1A - ROM+MBC5+RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_213"> 213</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_213"></span><span class="anchor" id="line-213"></span>           5 - ROM+MBC2                1B - ROM+MBC5+RAM+BATT</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_214"> 214</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_214"></span><span class="anchor" id="line-214"></span>           6 - ROM+MBC2+BATTERY        1C - ROM+MBC5+RUMBLE</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_215"> 215</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_215"></span><span class="anchor" id="line-215"></span>           8 - ROM+RAM                 1D - ROM+MBC5+RUMBLE+SRAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_216"> 216</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_216"></span><span class="anchor" id="line-216"></span>           9 - ROM+RAM+BATTERY         1E - ROM+MBC5+RUMBLE+SRAM+BATT</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_217"> 217</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_217"></span><span class="anchor" id="line-217"></span>           B - ROM+MMM01               1F - Pocket Camera</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_218"> 218</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_218"></span><span class="anchor" id="line-218"></span>           C - ROM+MMM01+SRAM          FD - Bandai TAMA5</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_219"> 219</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_219"></span><span class="anchor" id="line-219"></span>           D - ROM+MMM01+SRAM+BATT     FE - Hudson HuC-3</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_220"> 220</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_220"></span><span class="anchor" id="line-220"></span>           F - ROM+MBC3+TIMER+BATT     FF - Hudson HuC-1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_221"> 221</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_221"></span><span class="anchor" id="line-221"></span>          10 - ROM+MBC3+TIMER+RAM+BATT</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_222"> 222</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_222"></span><span class="anchor" id="line-222"></span>          11 - ROM+MBC3</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_223"> 223</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_223"></span><span class="anchor" id="line-223"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_224"> 224</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_224"></span><span class="anchor" id="line-224"></span>0148       ROM size:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_225"> 225</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_225"></span><span class="anchor" id="line-225"></span>             0 - 256Kbit =  32KByte =   2 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_226"> 226</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_226"></span><span class="anchor" id="line-226"></span>             1 - 512Kbit =  64KByte =   4 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_227"> 227</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_227"></span><span class="anchor" id="line-227"></span>             2 -   1Mbit = 128KByte =   8 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_228"> 228</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_228"></span><span class="anchor" id="line-228"></span>             3 -   2Mbit = 256KByte =  16 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_229"> 229</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_229"></span><span class="anchor" id="line-229"></span>             4 -   4Mbit = 512KByte =  32 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_230"> 230</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_230"></span><span class="anchor" id="line-230"></span>             5 -   8Mbit =   1MByte =  64 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_231"> 231</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_231"></span><span class="anchor" id="line-231"></span>             6 -  16Mbit =   2MByte = 128 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_232"> 232</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_232"></span><span class="anchor" id="line-232"></span>           $52 -   9Mbit = 1.1MByte =  72 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_233"> 233</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_233"></span><span class="anchor" id="line-233"></span>           $53 -  10Mbit = 1.2MByte =  80 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_234"> 234</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_234"></span><span class="anchor" id="line-234"></span>           $54 -  12Mbit = 1.5MByte =  96 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_235"> 235</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_235"></span><span class="anchor" id="line-235"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_236"> 236</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_236"></span><span class="anchor" id="line-236"></span>0149       RAM size:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_237"> 237</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_237"></span><span class="anchor" id="line-237"></span>           0 - None</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_238"> 238</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_238"></span><span class="anchor" id="line-238"></span>           1 -  16kBit =  2kB = 1 bank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_239"> 239</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_239"></span><span class="anchor" id="line-239"></span>           2 -  64kBit =  8kB = 1 bank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_240"> 240</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_240"></span><span class="anchor" id="line-240"></span>           3 - 256kBit = 32kB = 4 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_241"> 241</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_241"></span><span class="anchor" id="line-241"></span>           4 -   1MBit =128kB =16 banks</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_242"> 242</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_242"></span><span class="anchor" id="line-242"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_243"> 243</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_243"></span><span class="anchor" id="line-243"></span>014A       Destination code:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_244"> 244</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_244"></span><span class="anchor" id="line-244"></span>           0 - Japanese</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_245"> 245</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_245"></span><span class="anchor" id="line-245"></span>           1 - Non-Japanese</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_246"> 246</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_246"></span><span class="anchor" id="line-246"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_247"> 247</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_247"></span><span class="anchor" id="line-247"></span>014B       Licensee code (old):</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_248"> 248</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_248"></span><span class="anchor" id="line-248"></span>           33 - Check 0144/0145 for Licensee code.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_249"> 249</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_249"></span><span class="anchor" id="line-249"></span>           79 - Accolade</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_250"> 250</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_250"></span><span class="anchor" id="line-250"></span>           A4 - Konami</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_251"> 251</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_251"></span><span class="anchor" id="line-251"></span>           (Super GameBoy function won't work if &lt;&gt; $33.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_252"> 252</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_252"></span><span class="anchor" id="line-252"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_253"> 253</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_253"></span><span class="anchor" id="line-253"></span>014C       Mask ROM Version number (Usually $00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_254"> 254</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_254"></span><span class="anchor" id="line-254"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_255"> 255</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_255"></span><span class="anchor" id="line-255"></span>014D       Complement check</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_256"> 256</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_256"></span><span class="anchor" id="line-256"></span>           (PROGRAM WON'T RUN ON GB IF NOT CORRECT!!!)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_257"> 257</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_257"></span><span class="anchor" id="line-257"></span>           (It will run on Super GB, however, if incorrect.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_258"> 258</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_258"></span><span class="anchor" id="line-258"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_259"> 259</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_259"></span><span class="anchor" id="line-259"></span>014E-014F  Checksum (higher byte first) produced by</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_260"> 260</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_260"></span><span class="anchor" id="line-260"></span>           adding all bytes of a cartridge except for two</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_261"> 261</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_261"></span><span class="anchor" id="line-261"></span>           checksum bytes and taking two lower bytes of</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_262"> 262</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_262"></span><span class="anchor" id="line-262"></span>           the result. (GameBoy ignores this value.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_263"> 263</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_263"></span><span class="anchor" id="line-263"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_264"> 264</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_264"></span><span class="anchor" id="line-264"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_265"> 265</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_265"></span><span class="anchor" id="line-265"></span>Cartridge Types</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_266"> 266</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_266"></span><span class="anchor" id="line-266"></span>---------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_267"> 267</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_267"></span><span class="anchor" id="line-267"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_268"> 268</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_268"></span><span class="anchor" id="line-268"></span>The following define the byte at cart location 0147:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_269"> 269</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_269"></span><span class="anchor" id="line-269"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_270"> 270</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_270"></span><span class="anchor" id="line-270"></span> ROM ONLY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_271"> 271</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_271"></span><span class="anchor" id="line-271"></span>  This is a 32kB (256kb) ROM and occupies 0000-7FFF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_272"> 272</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_272"></span><span class="anchor" id="line-272"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_273"> 273</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_273"></span><span class="anchor" id="line-273"></span> MBC1 (Memory Bank Controller 1)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_274"> 274</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_274"></span><span class="anchor" id="line-274"></span>   MBC1 has two different maximum memory modes:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_275"> 275</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_275"></span><span class="anchor" id="line-275"></span>  16Mbit ROM/8KByte RAM  or  4Mbit ROM/32KByte RAM.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_276"> 276</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_276"></span><span class="anchor" id="line-276"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_277"> 277</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_277"></span><span class="anchor" id="line-277"></span>   The MBC1 defaults to 16Mbit ROM/8KByte RAM mode</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_278"> 278</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_278"></span><span class="anchor" id="line-278"></span>  on power up. Writing a value (XXXXXXXS - X = Don't</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_279"> 279</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_279"></span><span class="anchor" id="line-279"></span>  care, S = Memory model select) into 6000-7FFF area</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_280"> 280</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_280"></span><span class="anchor" id="line-280"></span>  will select the memory model to use. S = 0 selects</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_281"> 281</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_281"></span><span class="anchor" id="line-281"></span>  16/8 mode. S = 1 selects 4/32 mode.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_282"> 282</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_282"></span><span class="anchor" id="line-282"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_283"> 283</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_283"></span><span class="anchor" id="line-283"></span>   Writing a value (XXXBBBBB - X = Don't cares, B =</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_284"> 284</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_284"></span><span class="anchor" id="line-284"></span>  bank select bits) into 2000-3FFF area will select an</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_285"> 285</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_285"></span><span class="anchor" id="line-285"></span>  appropriate ROM bank at 4000-7FFF. Values of 0 and 1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_286"> 286</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_286"></span><span class="anchor" id="line-286"></span>  do the same thing and point to ROM bank 1. Rom bank 0</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_287"> 287</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_287"></span><span class="anchor" id="line-287"></span>  is not accessible from 4000-7FFF and can only be read</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_288"> 288</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_288"></span><span class="anchor" id="line-288"></span>  from 0000-3FFF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_289"> 289</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_289"></span><span class="anchor" id="line-289"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_290"> 290</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_290"></span><span class="anchor" id="line-290"></span>  If memory model is set to 4/32:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_291"> 291</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_291"></span><span class="anchor" id="line-291"></span>    Writing a value (XXXXXXBB - X = Don't care, B =</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_292"> 292</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_292"></span><span class="anchor" id="line-292"></span>   bank select bits) into 4000-5FFF area will select an</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_293"> 293</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_293"></span><span class="anchor" id="line-293"></span>   appropriate RAM bank at A000-C000. Before you can</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_294"> 294</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_294"></span><span class="anchor" id="line-294"></span>   read or write to a RAM bank you have to enable it by</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_295"> 295</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_295"></span><span class="anchor" id="line-295"></span>   writing a XXXX1010 into 0000-1FFF area*. To disable</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_296"> 296</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_296"></span><span class="anchor" id="line-296"></span>   RAM bank operations write any value but XXXX1010</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_297"> 297</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_297"></span><span class="anchor" id="line-297"></span>   into 0000-1FFF area. Disabling a RAM bank probably</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_298"> 298</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_298"></span><span class="anchor" id="line-298"></span>   protects that bank from false writes during power</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_299"> 299</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_299"></span><span class="anchor" id="line-299"></span>   down of the GameBoy. (NOTE: Nintendo suggests values</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_300"> 300</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_300"></span><span class="anchor" id="line-300"></span>   $0A to enable and $00 to disable RAM bank!!)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_301"> 301</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_301"></span><span class="anchor" id="line-301"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_302"> 302</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_302"></span><span class="anchor" id="line-302"></span>  If memory model is set to 16/8 mode:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_303"> 303</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_303"></span><span class="anchor" id="line-303"></span>    Writing a value (XXXXXXBB - X = Don't care, B =</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_304"> 304</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_304"></span><span class="anchor" id="line-304"></span>   bank select bits) into 4000-5FFF area will set the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_305"> 305</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_305"></span><span class="anchor" id="line-305"></span>   two most significant ROM address lines.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_306"> 306</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_306"></span><span class="anchor" id="line-306"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_307"> 307</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_307"></span><span class="anchor" id="line-307"></span>  * NOTE: The Super Smart Card doesn't require this</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_308"> 308</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_308"></span><span class="anchor" id="line-308"></span>   operation because it's RAM bank is ALWAYS enabled.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_309"> 309</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_309"></span><span class="anchor" id="line-309"></span>   Include this operation anyway to allow your code</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_310"> 310</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_310"></span><span class="anchor" id="line-310"></span>   to work with both.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_311"> 311</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_311"></span><span class="anchor" id="line-311"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_312"> 312</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_312"></span><span class="anchor" id="line-312"></span> MBC2 (Memory Bank Controller 2):</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_313"> 313</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_313"></span><span class="anchor" id="line-313"></span>   This memory controller works much like the MBC1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_314"> 314</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_314"></span><span class="anchor" id="line-314"></span>  controller with the following exceptions:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_315"> 315</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_315"></span><span class="anchor" id="line-315"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_316"> 316</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_316"></span><span class="anchor" id="line-316"></span>   MBC2 will work with ROM sizes up to 2Mbit.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_317"> 317</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_317"></span><span class="anchor" id="line-317"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_318"> 318</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_318"></span><span class="anchor" id="line-318"></span>   Writing a value (XXXXBBBB - X = Don't cares, B =</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_319"> 319</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_319"></span><span class="anchor" id="line-319"></span>  bank select bits) into 2100-21FF area will select an</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_320"> 320</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_320"></span><span class="anchor" id="line-320"></span>  appropriate ROM bank at 4000-7FFF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_321"> 321</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_321"></span><span class="anchor" id="line-321"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_322"> 322</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_322"></span><span class="anchor" id="line-322"></span>   RAM switching is not provided. Unlike the MBC1 which</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_323"> 323</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_323"></span><span class="anchor" id="line-323"></span>  uses external RAM, MBC2 has 512 x 4 bits of RAM which</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_324"> 324</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_324"></span><span class="anchor" id="line-324"></span>  is in the controller itself. It still requires an</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_325"> 325</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_325"></span><span class="anchor" id="line-325"></span>  external battery to save data during power-off though.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_326"> 326</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_326"></span><span class="anchor" id="line-326"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_327"> 327</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_327"></span><span class="anchor" id="line-327"></span>   The least significant bit of the upper address byte</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_328"> 328</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_328"></span><span class="anchor" id="line-328"></span>  must be zero to enable/disable cart RAM. For example</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_329"> 329</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_329"></span><span class="anchor" id="line-329"></span>  the following addresses can be used to enable/disable</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_330"> 330</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_330"></span><span class="anchor" id="line-330"></span>  cart RAM:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_331"> 331</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_331"></span><span class="anchor" id="line-331"></span>  0000-00FF, 0200-02FF, 0400-04FF, ..., 1E00-1EFF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_332"> 332</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_332"></span><span class="anchor" id="line-332"></span>  The suggested address range to use for MBC2 ram</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_333"> 333</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_333"></span><span class="anchor" id="line-333"></span>  enable/disable is 0000-00FF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_334"> 334</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_334"></span><span class="anchor" id="line-334"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_335"> 335</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_335"></span><span class="anchor" id="line-335"></span>   The least significant bit of the upper address byte</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_336"> 336</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_336"></span><span class="anchor" id="line-336"></span>  must be one to select a ROM bank. For example the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_337"> 337</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_337"></span><span class="anchor" id="line-337"></span>  following addresses can be used to select a ROM bank:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_338"> 338</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_338"></span><span class="anchor" id="line-338"></span>  2100-21FF, 2300-23FF, 2500-25FF, ..., 3F00-3FFF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_339"> 339</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_339"></span><span class="anchor" id="line-339"></span>  The suggested address range to use for MBC2 rom</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_340"> 340</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_340"></span><span class="anchor" id="line-340"></span>  bank selection is 2100-21FF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_341"> 341</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_341"></span><span class="anchor" id="line-341"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_342"> 342</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_342"></span><span class="anchor" id="line-342"></span> MBC3 (Memory Bank Controller 3):</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_343"> 343</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_343"></span><span class="anchor" id="line-343"></span>   This controller is similar to MBC1 except it accesses</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_344"> 344</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_344"></span><span class="anchor" id="line-344"></span>  all 16mbits of ROM without requiring any writes to the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_345"> 345</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_345"></span><span class="anchor" id="line-345"></span>  4000-5FFF area.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_346"> 346</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_346"></span><span class="anchor" id="line-346"></span>    Writing a value (XBBBBBBB - X = Don't care, B =</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_347"> 347</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_347"></span><span class="anchor" id="line-347"></span>  bank select bits) into 2000-3FFF area will select an</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_348"> 348</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_348"></span><span class="anchor" id="line-348"></span>  appropriate ROM bank at 4000-7FFF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_349"> 349</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_349"></span><span class="anchor" id="line-349"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_350"> 350</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_350"></span><span class="anchor" id="line-350"></span>   Also, this MBC has a built-in battery-backed Real</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_351"> 351</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_351"></span><span class="anchor" id="line-351"></span>  Time Clock (RTC) not found in any other MBC. Some</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_352"> 352</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_352"></span><span class="anchor" id="line-352"></span>  MBC3 carts do not support it (WarioLand II non-color</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_353"> 353</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_353"></span><span class="anchor" id="line-353"></span>  version) but some do (Harvest Moon/Japanese version.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_354"> 354</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_354"></span><span class="anchor" id="line-354"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_355"> 355</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_355"></span><span class="anchor" id="line-355"></span> MBC5 (Memory Bank Controller 5):</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_356"> 356</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_356"></span><span class="anchor" id="line-356"></span>   This controller is the first MBC that is guaranteed</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_357"> 357</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_357"></span><span class="anchor" id="line-357"></span>  to run in GameBoy Color double-speed mode but it</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_358"> 358</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_358"></span><span class="anchor" id="line-358"></span>  appears the other MBC's run fine in GBC double-speed</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_359"> 359</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_359"></span><span class="anchor" id="line-359"></span>  mode as well.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_360"> 360</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_360"></span><span class="anchor" id="line-360"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_361"> 361</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_361"></span><span class="anchor" id="line-361"></span>   It is similar to the MBC3 (but no RTC) but can</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_362"> 362</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_362"></span><span class="anchor" id="line-362"></span>  access up to 64mbits of ROM and up to 1mbit of RAM.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_363"> 363</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_363"></span><span class="anchor" id="line-363"></span>  The lower 8 bits of the 9-bit rom bank select is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_364"> 364</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_364"></span><span class="anchor" id="line-364"></span>  written to the 2000-2FFF area while the upper bit</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_365"> 365</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_365"></span><span class="anchor" id="line-365"></span>  is written to the least significant bit of the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_366"> 366</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_366"></span><span class="anchor" id="line-366"></span>  3000-3FFF area.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_367"> 367</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_367"></span><span class="anchor" id="line-367"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_368"> 368</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_368"></span><span class="anchor" id="line-368"></span>    Writing a value (XXXXBBBB - X = Don't care, B =</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_369"> 369</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_369"></span><span class="anchor" id="line-369"></span>  bank select bits) into 4000-5FFF area will select an</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_370"> 370</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_370"></span><span class="anchor" id="line-370"></span>  appropriate RAM bank at A000-BFFF if the cart</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_371"> 371</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_371"></span><span class="anchor" id="line-371"></span>  contains RAM. Ram sizes are 64kbit,256kbit, &amp; 1mbit.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_372"> 372</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_372"></span><span class="anchor" id="line-372"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_373"> 373</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_373"></span><span class="anchor" id="line-373"></span>   Also, this is the first MBC that allows rom bank 0</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_374"> 374</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_374"></span><span class="anchor" id="line-374"></span>  to appear in the 4000-7FFF range by writing $000</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_375"> 375</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_375"></span><span class="anchor" id="line-375"></span>  to the rom bank select.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_376"> 376</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_376"></span><span class="anchor" id="line-376"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_377"> 377</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_377"></span><span class="anchor" id="line-377"></span> Rumble Carts:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_378"> 378</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_378"></span><span class="anchor" id="line-378"></span>   Rumble carts use an MBC5 memory bank controller.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_379"> 379</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_379"></span><span class="anchor" id="line-379"></span>  Rumble carts can only have up to 256kbits of RAM.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_380"> 380</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_380"></span><span class="anchor" id="line-380"></span>  The highest RAM address line that allows 1mbit of</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_381"> 381</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_381"></span><span class="anchor" id="line-381"></span>  RAM on MBC5 non-rumble carts is used as the motor</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_382"> 382</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_382"></span><span class="anchor" id="line-382"></span>  on/off for the rumble cart.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_383"> 383</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_383"></span><span class="anchor" id="line-383"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_384"> 384</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_384"></span><span class="anchor" id="line-384"></span>    Writing a value (XXXXMBBB - X = Don't care, M =</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_385"> 385</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_385"></span><span class="anchor" id="line-385"></span>  motor, B = bank select bits) into 4000-5FFF area</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_386"> 386</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_386"></span><span class="anchor" id="line-386"></span>  will select an appropriate RAM bank at A000-BFFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_387"> 387</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_387"></span><span class="anchor" id="line-387"></span>  if the cart contains RAM. RAM sizes are 64kbit or</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_388"> 388</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_388"></span><span class="anchor" id="line-388"></span>  256kbits. To turn the rumble motor on set M = 1,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_389"> 389</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_389"></span><span class="anchor" id="line-389"></span>  M = 0 turns it off.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_390"> 390</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_390"></span><span class="anchor" id="line-390"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_391"> 391</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_391"></span><span class="anchor" id="line-391"></span> HuC1 (Memory Bank / Infrared Controller):</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_392"> 392</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_392"></span><span class="anchor" id="line-392"></span>   This controller made by Hudson Soft appears to be</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_393"> 393</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_393"></span><span class="anchor" id="line-393"></span>  very similar to an MBC1 with the main difference</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_394"> 394</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_394"></span><span class="anchor" id="line-394"></span>  being that it supports infrared LED input / output.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_395"> 395</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_395"></span><span class="anchor" id="line-395"></span>  The Japanese cart "Fighting Phoenix" (internal cart</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_396"> 396</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_396"></span><span class="anchor" id="line-396"></span>  name: SUPER B DAMAN) is known to contain this chip.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_397"> 397</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_397"></span><span class="anchor" id="line-397"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_398"> 398</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_398"></span><span class="anchor" id="line-398"></span> Bung Carts:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_399"> 399</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_399"></span><span class="anchor" id="line-399"></span>   The flash carts sold by Bung (http://www.bung.com.hk)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_400"> 400</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_400"></span><span class="anchor" id="line-400"></span>  on power up appear like an MBC5 cart except that</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_401"> 401</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_401"></span><span class="anchor" id="line-401"></span>  writing $00 to the bank select register selects rom</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_402"> 402</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_402"></span><span class="anchor" id="line-402"></span>  bank 1 instead of rom bank 0. Writing values to</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_403"> 403</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_403"></span><span class="anchor" id="line-403"></span>  3000-3FFF area does nothing.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_404"> 404</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_404"></span><span class="anchor" id="line-404"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_405"> 405</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_405"></span><span class="anchor" id="line-405"></span>   Writing values (XXXXXXXS - X = Don't care, S = Select)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_406"> 406</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_406"></span><span class="anchor" id="line-406"></span>  to 6000-7FFF area selects MBC1 16/8 mode if S=0</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_407"> 407</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_407"></span><span class="anchor" id="line-407"></span>  except that writes to 3000-3FFF area still do nothing.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_408"> 408</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_408"></span><span class="anchor" id="line-408"></span>  If S=1 then MBC5 mode is selected. (S=1 by default</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_409"> 409</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_409"></span><span class="anchor" id="line-409"></span>  on power up.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_410"> 410</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_410"></span><span class="anchor" id="line-410"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_411"> 411</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_411"></span><span class="anchor" id="line-411"></span>   Cart locations A000 &amp; A100 act as special</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_412"> 412</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_412"></span><span class="anchor" id="line-412"></span>  write only hardware control registers if a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_413"> 413</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_413"></span><span class="anchor" id="line-413"></span>  value of $c0 is written to 0000-1FFF area.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_414"> 414</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_414"></span><span class="anchor" id="line-414"></span>  These hardware control registers are used</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_415"> 415</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_415"></span><span class="anchor" id="line-415"></span>  for setting up cart hardware for different</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_416"> 416</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_416"></span><span class="anchor" id="line-416"></span>  games when the Bung cart is used as a Multicart</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_417"> 417</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_417"></span><span class="anchor" id="line-417"></span>  for holding several different games.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_418"> 418</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_418"></span><span class="anchor" id="line-418"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_419"> 419</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_419"></span><span class="anchor" id="line-419"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_420"> 420</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_420"></span><span class="anchor" id="line-420"></span>Power Up Sequence</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_421"> 421</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_421"></span><span class="anchor" id="line-421"></span>-----------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_422"> 422</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_422"></span><span class="anchor" id="line-422"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_423"> 423</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_423"></span><span class="anchor" id="line-423"></span>  When the GameBoy is powered up, a 256 byte program</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_424"> 424</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_424"></span><span class="anchor" id="line-424"></span> starting at memory location 0 is executed. This program</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_425"> 425</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_425"></span><span class="anchor" id="line-425"></span> is located in a ROM inside the GameBoy. The first thing</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_426"> 426</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_426"></span><span class="anchor" id="line-426"></span> the program does is read the cartridge locations from</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_427"> 427</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_427"></span><span class="anchor" id="line-427"></span> $104 to $133 and place this graphic of a Nintendo logo</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_428"> 428</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_428"></span><span class="anchor" id="line-428"></span> on the screen at the top. This image is then scrolled</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_429"> 429</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_429"></span><span class="anchor" id="line-429"></span> until it is in the middle of the screen. Two musical</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_430"> 430</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_430"></span><span class="anchor" id="line-430"></span> notes are then played on the internal speaker. Again,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_431"> 431</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_431"></span><span class="anchor" id="line-431"></span> the cartridge locations $104 to $133 are read but this</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_432"> 432</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_432"></span><span class="anchor" id="line-432"></span> time they are compared with a table in the internal rom.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_433"> 433</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_433"></span><span class="anchor" id="line-433"></span> If any byte fails to compare, then the GameBoy stops</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_434"> 434</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_434"></span><span class="anchor" id="line-434"></span> comparing bytes and simply halts all operations.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_435"> 435</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_435"></span><span class="anchor" id="line-435"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_436"> 436</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_436"></span><span class="anchor" id="line-436"></span> GB &amp; GB Pocket:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_437"> 437</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_437"></span><span class="anchor" id="line-437"></span>      Next, the GameBoy starts adding all of the bytes</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_438"> 438</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_438"></span><span class="anchor" id="line-438"></span>      in the cartridge from $134 to $14d. A value of 25</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_439"> 439</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_439"></span><span class="anchor" id="line-439"></span>      decimal is added to this total. If the least</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_440"> 440</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_440"></span><span class="anchor" id="line-440"></span>      significant byte of the result is a not a zero,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_441"> 441</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_441"></span><span class="anchor" id="line-441"></span>      then the GameBoy will stop doing anything.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_442"> 442</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_442"></span><span class="anchor" id="line-442"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_443"> 443</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_443"></span><span class="anchor" id="line-443"></span> Super GB:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_444"> 444</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_444"></span><span class="anchor" id="line-444"></span>      Even though the GB &amp; GBP check the memory locations</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_445"> 445</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_445"></span><span class="anchor" id="line-445"></span>      from $134 to $14d, the SGB doesn't.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_446"> 446</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_446"></span><span class="anchor" id="line-446"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_447"> 447</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_447"></span><span class="anchor" id="line-447"></span>  If the above checks pass then the internal ROM is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_448"> 448</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_448"></span><span class="anchor" id="line-448"></span> disabled and cartridge program execution begins at</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_449"> 449</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_449"></span><span class="anchor" id="line-449"></span> location $100 with the following register values:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_450"> 450</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_450"></span><span class="anchor" id="line-450"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_451"> 451</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_451"></span><span class="anchor" id="line-451"></span>   AF=$01-GB/SGB, $FF-GBP, $11-GBC</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_452"> 452</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_452"></span><span class="anchor" id="line-452"></span>   F =$B0</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_453"> 453</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_453"></span><span class="anchor" id="line-453"></span>   B =$00-GB/SGB/GBP/GBC, $01-GBA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_454"> 454</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_454"></span><span class="anchor" id="line-454"></span>   C =$13</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_455"> 455</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_455"></span><span class="anchor" id="line-455"></span>   DE=$00D8</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_456"> 456</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_456"></span><span class="anchor" id="line-456"></span>   HL=$014D</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_457"> 457</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_457"></span><span class="anchor" id="line-457"></span>   Stack Pointer=$FFFE</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_458"> 458</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_458"></span><span class="anchor" id="line-458"></span>   [$FF05] = $00   ; TIMA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_459"> 459</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_459"></span><span class="anchor" id="line-459"></span>   [$FF06] = $00   ; TMA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_460"> 460</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_460"></span><span class="anchor" id="line-460"></span>   [$FF07] = $00   ; TAC</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_461"> 461</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_461"></span><span class="anchor" id="line-461"></span>   [$FF10] = $80   ; NR10 a.k.a. rAUD1SWEEP</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_462"> 462</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_462"></span><span class="anchor" id="line-462"></span>   [$FF11] = $BF   ; NR11 a.k.a. rAUD1LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_463"> 463</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_463"></span><span class="anchor" id="line-463"></span>   [$FF12] = $F3   ; NR12 a.k.a. rAUD1ENV</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_464"> 464</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_464"></span><span class="anchor" id="line-464"></span>   [$FF14] = $BF   ; NR14 a.k.a. rAUD1HIGH</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_465"> 465</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_465"></span><span class="anchor" id="line-465"></span>   [$FF16] = $3F   ; NR21 a.k.a. rAUD2LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_466"> 466</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_466"></span><span class="anchor" id="line-466"></span>   [$FF17] = $00   ; NR22 a.k.a. rAUD2ENV</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_467"> 467</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_467"></span><span class="anchor" id="line-467"></span>   [$FF19] = $BF   ; NR24 a.k.a. rAUD2HIGH</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_468"> 468</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_468"></span><span class="anchor" id="line-468"></span>   [$FF1A] = $7F   ; NR30 a.k.a. rAUD3ENA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_469"> 469</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_469"></span><span class="anchor" id="line-469"></span>   [$FF1B] = $FF   ; NR31 a.k.a. rAUD3LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_470"> 470</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_470"></span><span class="anchor" id="line-470"></span>   [$FF1C] = $9F   ; NR32 a.k.a. rAUD3LEVEL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_471"> 471</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_471"></span><span class="anchor" id="line-471"></span>   [$FF1E] = $BF   ; NR33 a.k.a. rAUD3LOW</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_472"> 472</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_472"></span><span class="anchor" id="line-472"></span>   [$FF20] = $FF   ; NR41 a.k.a. rAUD4LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_473"> 473</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_473"></span><span class="anchor" id="line-473"></span>   [$FF21] = $00   ; NR42 a.k.a. rAUD4ENV</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_474"> 474</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_474"></span><span class="anchor" id="line-474"></span>   [$FF22] = $00   ; NR43 a.k.a. rAUD4POLY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_475"> 475</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_475"></span><span class="anchor" id="line-475"></span>   [$FF23] = $BF   ; NR44 a.k.a. rAUD4GO</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_476"> 476</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_476"></span><span class="anchor" id="line-476"></span>   [$FF24] = $77   ; NR50 a.k.a. rAUDVOL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_477"> 477</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_477"></span><span class="anchor" id="line-477"></span>   [$FF25] = $F3   ; NR51 a.k.a. rAUDTERM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_478"> 478</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_478"></span><span class="anchor" id="line-478"></span>   [$FF26] = $F1-GB, $F0-SGB ; NR52</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_479"> 479</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_479"></span><span class="anchor" id="line-479"></span>   [$FF40] = $91   ; LCDC</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_480"> 480</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_480"></span><span class="anchor" id="line-480"></span>   [$FF42] = $00   ; SCY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_481"> 481</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_481"></span><span class="anchor" id="line-481"></span>   [$FF43] = $00   ; SCX</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_482"> 482</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_482"></span><span class="anchor" id="line-482"></span>   [$FF45] = $00   ; LYC</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_483"> 483</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_483"></span><span class="anchor" id="line-483"></span>   [$FF47] = $FC   ; BGP</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_484"> 484</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_484"></span><span class="anchor" id="line-484"></span>   [$FF48] = $FF   ; OBP0</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_485"> 485</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_485"></span><span class="anchor" id="line-485"></span>   [$FF49] = $FF   ; OBP1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_486"> 486</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_486"></span><span class="anchor" id="line-486"></span>   [$FF4A] = $00   ; WY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_487"> 487</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_487"></span><span class="anchor" id="line-487"></span>   [$FF4B] = $00   ; WX</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_488"> 488</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_488"></span><span class="anchor" id="line-488"></span>   [$FFFF] = $00   ; IE</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_489"> 489</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_489"></span><span class="anchor" id="line-489"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_490"> 490</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_490"></span><span class="anchor" id="line-490"></span> It is not a good idea to assume the above values</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_491"> 491</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_491"></span><span class="anchor" id="line-491"></span>will always exist. A later version GameBoy could</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_492"> 492</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_492"></span><span class="anchor" id="line-492"></span>contain different values than these at reset.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_493"> 493</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_493"></span><span class="anchor" id="line-493"></span>Always set these registers on reset rather than</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_494"> 494</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_494"></span><span class="anchor" id="line-494"></span>assume they are as above.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_495"> 495</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_495"></span><span class="anchor" id="line-495"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_496"> 496</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_496"></span><span class="anchor" id="line-496"></span> Please note that GameBoy internal RAM on power up</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_497"> 497</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_497"></span><span class="anchor" id="line-497"></span>contains random data. All of the GameBoy emulators</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_498"> 498</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_498"></span><span class="anchor" id="line-498"></span>tend to set all RAM to value $00 on entry.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_499"> 499</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_499"></span><span class="anchor" id="line-499"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_500"> 500</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_500"></span><span class="anchor" id="line-500"></span> Cart RAM the first time it is accessed on a real</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_501"> 501</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_501"></span><span class="anchor" id="line-501"></span>GameBoy contains random data. It will only contain</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_502"> 502</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_502"></span><span class="anchor" id="line-502"></span>known data if the GameBoy code initializes it to</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_503"> 503</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_503"></span><span class="anchor" id="line-503"></span>some value.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_504"> 504</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_504"></span><span class="anchor" id="line-504"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_505"> 505</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_505"></span><span class="anchor" id="line-505"></span>Stop Mode</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_506"> 506</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_506"></span><span class="anchor" id="line-506"></span>---------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_507"> 507</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_507"></span><span class="anchor" id="line-507"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_508"> 508</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_508"></span><span class="anchor" id="line-508"></span>  The STOP command halts the GameBoy processor</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_509"> 509</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_509"></span><span class="anchor" id="line-509"></span> and screen until any button is pressed. The GB</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_510"> 510</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_510"></span><span class="anchor" id="line-510"></span> and GBP screen goes white with a single dark</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_511"> 511</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_511"></span><span class="anchor" id="line-511"></span> horizontal line. The GBC screen goes black.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_512"> 512</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_512"></span><span class="anchor" id="line-512"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_513"> 513</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_513"></span><span class="anchor" id="line-513"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_514"> 514</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_514"></span><span class="anchor" id="line-514"></span>Low-Power Mode</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_515"> 515</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_515"></span><span class="anchor" id="line-515"></span>--------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_516"> 516</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_516"></span><span class="anchor" id="line-516"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_517"> 517</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_517"></span><span class="anchor" id="line-517"></span>  It is recommended that the HALT instruction be used</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_518"> 518</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_518"></span><span class="anchor" id="line-518"></span> whenever possible to reduce power consumption &amp; extend</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_519"> 519</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_519"></span><span class="anchor" id="line-519"></span> the life of the batteries. This command stops the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_520"> 520</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_520"></span><span class="anchor" id="line-520"></span> system clock reducing the power consumption of both</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_521"> 521</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_521"></span><span class="anchor" id="line-521"></span> the CPU and ROM.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_522"> 522</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_522"></span><span class="anchor" id="line-522"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_523"> 523</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_523"></span><span class="anchor" id="line-523"></span>  The CPU will remain suspended until an interrupt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_524"> 524</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_524"></span><span class="anchor" id="line-524"></span> occurs at which point the interrupt is serviced and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_525"> 525</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_525"></span><span class="anchor" id="line-525"></span> then the instruction immediately following the HALT</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_526"> 526</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_526"></span><span class="anchor" id="line-526"></span> is executed. If interrupts are disabled (DI) then</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_527"> 527</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_527"></span><span class="anchor" id="line-527"></span> halt doesn't suspend operation but it does cause</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_528"> 528</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_528"></span><span class="anchor" id="line-528"></span> the program counter to stop counting for one</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_529"> 529</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_529"></span><span class="anchor" id="line-529"></span> instruction on the GB,GBP, and SGB as mentioned below.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_530"> 530</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_530"></span><span class="anchor" id="line-530"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_531"> 531</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_531"></span><span class="anchor" id="line-531"></span>  Depending on how much CPU time is required by a game,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_532"> 532</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_532"></span><span class="anchor" id="line-532"></span> the HALT instruction can extend battery life anywhere</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_533"> 533</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_533"></span><span class="anchor" id="line-533"></span> from 5 to 50% or possibly more.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_534"> 534</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_534"></span><span class="anchor" id="line-534"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_535"> 535</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_535"></span><span class="anchor" id="line-535"></span> WARNING: The instruction immediately following the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_536"> 536</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_536"></span><span class="anchor" id="line-536"></span>  HALT instruction is "skipped" when interrupts are</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_537"> 537</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_537"></span><span class="anchor" id="line-537"></span>  disabled (DI) on the GB,GBP, and SGB. As a result,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_538"> 538</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_538"></span><span class="anchor" id="line-538"></span>  always put a NOP after the HALT instruction. This</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_539"> 539</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_539"></span><span class="anchor" id="line-539"></span>  instruction skipping doesn't occur when interrupts</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_540"> 540</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_540"></span><span class="anchor" id="line-540"></span>  are enabled (EI).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_541"> 541</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_541"></span><span class="anchor" id="line-541"></span>   This "skipping" does not seem to occur on the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_542"> 542</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_542"></span><span class="anchor" id="line-542"></span>  GameBoy Color even in regular GB mode. ($143=$00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_543"> 543</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_543"></span><span class="anchor" id="line-543"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_544"> 544</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_544"></span><span class="anchor" id="line-544"></span> EXAMPLES from Martin Korth who documented this problem:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_545"> 545</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_545"></span><span class="anchor" id="line-545"></span>  (assuming interrupts disabled for all examples)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_546"> 546</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_546"></span><span class="anchor" id="line-546"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_547"> 547</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_547"></span><span class="anchor" id="line-547"></span>1) This code causes the 'a' register to be incremented TWICE.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_548"> 548</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_548"></span><span class="anchor" id="line-548"></span>      76          halt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_549"> 549</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_549"></span><span class="anchor" id="line-549"></span>      3C          inc  a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_550"> 550</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_550"></span><span class="anchor" id="line-550"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_551"> 551</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_551"></span><span class="anchor" id="line-551"></span>2) The next example is a bit more difficult. The following code</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_552"> 552</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_552"></span><span class="anchor" id="line-552"></span>      76          halt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_553"> 553</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_553"></span><span class="anchor" id="line-553"></span>      FA 34 12    ld   a,(1234)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_554"> 554</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_554"></span><span class="anchor" id="line-554"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_555"> 555</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_555"></span><span class="anchor" id="line-555"></span>   is effectively executed as</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_556"> 556</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_556"></span><span class="anchor" id="line-556"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_557"> 557</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_557"></span><span class="anchor" id="line-557"></span>      76          halt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_558"> 558</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_558"></span><span class="anchor" id="line-558"></span>      FA FA 34    ld   a,(34FA)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_559"> 559</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_559"></span><span class="anchor" id="line-559"></span>      12          ld   (de),a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_560"> 560</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_560"></span><span class="anchor" id="line-560"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_561"> 561</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_561"></span><span class="anchor" id="line-561"></span>3) Finally an interesting side effect</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_562"> 562</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_562"></span><span class="anchor" id="line-562"></span>      76          halt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_563"> 563</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_563"></span><span class="anchor" id="line-563"></span>      76          halt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_564"> 564</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_564"></span><span class="anchor" id="line-564"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_565"> 565</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_565"></span><span class="anchor" id="line-565"></span>    This combination hangs the cpu.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_566"> 566</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_566"></span><span class="anchor" id="line-566"></span>   The first HALT causes the second HALT to be repeated, which</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_567"> 567</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_567"></span><span class="anchor" id="line-567"></span>   therefore causes the following command (=itself) to be</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_568"> 568</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_568"></span><span class="anchor" id="line-568"></span>   repeated - again and again.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_569"> 569</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_569"></span><span class="anchor" id="line-569"></span>   Placing a NOP between the two halts would cause the NOP to</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_570"> 570</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_570"></span><span class="anchor" id="line-570"></span>   be repeated once, the second HALT wouldn't lock the cpu.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_571"> 571</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_571"></span><span class="anchor" id="line-571"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_572"> 572</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_572"></span><span class="anchor" id="line-572"></span>  Below is suggested code for GameBoy programs:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_573"> 573</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_573"></span><span class="anchor" id="line-573"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_574"> 574</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_574"></span><span class="anchor" id="line-574"></span>  ; **** Main Game Loop ****</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_575"> 575</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_575"></span><span class="anchor" id="line-575"></span>  Main:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_576"> 576</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_576"></span><span class="anchor" id="line-576"></span>        halt                    ; stop system clock</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_577"> 577</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_577"></span><span class="anchor" id="line-577"></span>                                ; return from halt when interrupted</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_578"> 578</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_578"></span><span class="anchor" id="line-578"></span>        nop                     ; (See WARNING above.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_579"> 579</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_579"></span><span class="anchor" id="line-579"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_580"> 580</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_580"></span><span class="anchor" id="line-580"></span>        ld      a,(VblnkFlag)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_581"> 581</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_581"></span><span class="anchor" id="line-581"></span>        or      a               ; V-Blank interrupt ?</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_582"> 582</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_582"></span><span class="anchor" id="line-582"></span>        jr      z,Main          ; No, some other interrupt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_583"> 583</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_583"></span><span class="anchor" id="line-583"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_584"> 584</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_584"></span><span class="anchor" id="line-584"></span>        xor     a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_585"> 585</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_585"></span><span class="anchor" id="line-585"></span>        ld      (VblnkFlag),a   ; Clear V-Blank flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_586"> 586</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_586"></span><span class="anchor" id="line-586"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_587"> 587</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_587"></span><span class="anchor" id="line-587"></span>        call    Controls        ; button inputs</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_588"> 588</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_588"></span><span class="anchor" id="line-588"></span>        call    Game            ; game operation</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_589"> 589</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_589"></span><span class="anchor" id="line-589"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_590"> 590</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_590"></span><span class="anchor" id="line-590"></span>        jr      Main</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_591"> 591</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_591"></span><span class="anchor" id="line-591"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_592"> 592</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_592"></span><span class="anchor" id="line-592"></span>  ; **** V-Blank Interrupt Routine ****</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_593"> 593</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_593"></span><span class="anchor" id="line-593"></span>  Vblnk:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_594"> 594</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_594"></span><span class="anchor" id="line-594"></span>        push    af</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_595"> 595</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_595"></span><span class="anchor" id="line-595"></span>        push    bc</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_596"> 596</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_596"></span><span class="anchor" id="line-596"></span>        push    de</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_597"> 597</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_597"></span><span class="anchor" id="line-597"></span>        push    hl</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_598"> 598</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_598"></span><span class="anchor" id="line-598"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_599"> 599</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_599"></span><span class="anchor" id="line-599"></span>        call    SpriteDma       ; Do sprite updates</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_600"> 600</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_600"></span><span class="anchor" id="line-600"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_601"> 601</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_601"></span><span class="anchor" id="line-601"></span>        ld      a,1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_602"> 602</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_602"></span><span class="anchor" id="line-602"></span>        ld      (VblnkFlag),a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_603"> 603</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_603"></span><span class="anchor" id="line-603"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_604"> 604</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_604"></span><span class="anchor" id="line-604"></span>        pop     hl</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_605"> 605</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_605"></span><span class="anchor" id="line-605"></span>        pop     de</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_606"> 606</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_606"></span><span class="anchor" id="line-606"></span>        pop     bc</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_607"> 607</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_607"></span><span class="anchor" id="line-607"></span>        pop     af</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_608"> 608</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_608"></span><span class="anchor" id="line-608"></span>        reti</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_609"> 609</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_609"></span><span class="anchor" id="line-609"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_610"> 610</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_610"></span><span class="anchor" id="line-610"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_611"> 611</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_611"></span><span class="anchor" id="line-611"></span>Video</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_612"> 612</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_612"></span><span class="anchor" id="line-612"></span>-----</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_613"> 613</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_613"></span><span class="anchor" id="line-613"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_614"> 614</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_614"></span><span class="anchor" id="line-614"></span>  The main GameBoy screen buffer (background) consists</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_615"> 615</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_615"></span><span class="anchor" id="line-615"></span> of 256x256 pixels or 32x32 tiles (8x8 pixels each). Only</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_616"> 616</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_616"></span><span class="anchor" id="line-616"></span> 160x144 pixels can be displayed on the screen. Registers</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_617"> 617</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_617"></span><span class="anchor" id="line-617"></span> SCROLLX and SCROLLY hold the coordinates of background to</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_618"> 618</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_618"></span><span class="anchor" id="line-618"></span> be displayed in the left upper corner of the screen.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_619"> 619</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_619"></span><span class="anchor" id="line-619"></span> Background wraps around the screen (i.e. when part of it</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_620"> 620</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_620"></span><span class="anchor" id="line-620"></span> goes off the screen, it appears on the opposite side.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_621"> 621</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_621"></span><span class="anchor" id="line-621"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_622"> 622</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_622"></span><span class="anchor" id="line-622"></span>  An area of VRAM known as Background Tile Map contains</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_623"> 623</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_623"></span><span class="anchor" id="line-623"></span> the numbers of tiles to be displayed. It is organized as</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_624"> 624</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_624"></span><span class="anchor" id="line-624"></span> 32 rows of 32 bytes each. Each byte contains a number of</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_625"> 625</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_625"></span><span class="anchor" id="line-625"></span> a tile to be displayed. Tile patterns are taken from the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_626"> 626</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_626"></span><span class="anchor" id="line-626"></span> Tile Data Table located either at $8000-8FFF or</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_627"> 627</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_627"></span><span class="anchor" id="line-627"></span> $8800-97FF. In the first case, patterns are numbered with</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_628"> 628</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_628"></span><span class="anchor" id="line-628"></span> unsigned numbers from 0 to 255 (i.e. pattern #0 lies at</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_629"> 629</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_629"></span><span class="anchor" id="line-629"></span> address $8000). In the second case, patterns have signed</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_630"> 630</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_630"></span><span class="anchor" id="line-630"></span> numbers from -128 to 127 (i.e. pattern #0 lies at address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_631"> 631</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_631"></span><span class="anchor" id="line-631"></span> $9000). The Tile Data Table address for the background</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_632"> 632</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_632"></span><span class="anchor" id="line-632"></span> can be selected by setting the LCDC register.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_633"> 633</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_633"></span><span class="anchor" id="line-633"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_634"> 634</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_634"></span><span class="anchor" id="line-634"></span>  There are two different Background Tile Maps. One is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_635"> 635</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_635"></span><span class="anchor" id="line-635"></span> located from $9800-9Bff. The other from $9C00-9FFF.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_636"> 636</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_636"></span><span class="anchor" id="line-636"></span> Only one of these can be viewed at any one time. The</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_637"> 637</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_637"></span><span class="anchor" id="line-637"></span> currently displayed background can be selected by</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_638"> 638</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_638"></span><span class="anchor" id="line-638"></span> setting the LCDC register.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_639"> 639</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_639"></span><span class="anchor" id="line-639"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_640"> 640</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_640"></span><span class="anchor" id="line-640"></span>  Besides background, there is also a "window" overlaying</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_641"> 641</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_641"></span><span class="anchor" id="line-641"></span> the background. The window is not scrollable i.e. it is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_642"> 642</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_642"></span><span class="anchor" id="line-642"></span> always displayed starting from its left upper corner. The</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_643"> 643</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_643"></span><span class="anchor" id="line-643"></span> location of a window on the screen can be adjusted via</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_644"> 644</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_644"></span><span class="anchor" id="line-644"></span> WNDPOSX and WNDPOSY registers. Screen coordinates of the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_645"> 645</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_645"></span><span class="anchor" id="line-645"></span> top left corner of a window are WNDPOSX-7,WNDPOSY. The</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_646"> 646</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_646"></span><span class="anchor" id="line-646"></span> tile numbers for the window are stored in the Tile Data</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_647"> 647</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_647"></span><span class="anchor" id="line-647"></span> Table. None of the windows tiles are ever transparent.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_648"> 648</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_648"></span><span class="anchor" id="line-648"></span> Both the Background and the window share the same Tile</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_649"> 649</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_649"></span><span class="anchor" id="line-649"></span> Data Table.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_650"> 650</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_650"></span><span class="anchor" id="line-650"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_651"> 651</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_651"></span><span class="anchor" id="line-651"></span>  Both background and window can be disabled or enabled</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_652"> 652</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_652"></span><span class="anchor" id="line-652"></span> separately via bits in the LCDC register.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_653"> 653</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_653"></span><span class="anchor" id="line-653"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_654"> 654</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_654"></span><span class="anchor" id="line-654"></span>  If the window is used and a scan line interrupt disables</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_655"> 655</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_655"></span><span class="anchor" id="line-655"></span> it (either by writing to LCDC or by setting WX &gt; 166)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_656"> 656</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_656"></span><span class="anchor" id="line-656"></span> and a scan line interrupt a little later on enables it</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_657"> 657</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_657"></span><span class="anchor" id="line-657"></span> then the window will resume appearing on the screen at the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_658"> 658</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_658"></span><span class="anchor" id="line-658"></span> exact position of the window where it left off earlier.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_659"> 659</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_659"></span><span class="anchor" id="line-659"></span> This way, even if there are only 16 lines of useful graphics</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_660"> 660</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_660"></span><span class="anchor" id="line-660"></span> in the window, you could display the first 8 lines at the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_661"> 661</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_661"></span><span class="anchor" id="line-661"></span> top of the screen and the next 8 lines at the bottom if</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_662"> 662</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_662"></span><span class="anchor" id="line-662"></span> you wanted to do so.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_663"> 663</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_663"></span><span class="anchor" id="line-663"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_664"> 664</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_664"></span><span class="anchor" id="line-664"></span>  WX may be changed during a scan line interrupt (to either</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_665"> 665</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_665"></span><span class="anchor" id="line-665"></span> cause a graphic distortion effect or to disable the window</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_666"> 666</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_666"></span><span class="anchor" id="line-666"></span> (WX&gt;166) ) but changes to WY are not dynamic and won't</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_667"> 667</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_667"></span><span class="anchor" id="line-667"></span> be noticed until the next screen redraw.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_668"> 668</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_668"></span><span class="anchor" id="line-668"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_669"> 669</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_669"></span><span class="anchor" id="line-669"></span>  The tile images are stored in the Tile Pattern Tables.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_670"> 670</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_670"></span><span class="anchor" id="line-670"></span> Each 8x8 image occupies 16 bytes, where each 2 bytes</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_671"> 671</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_671"></span><span class="anchor" id="line-671"></span> represent a line:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_672"> 672</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_672"></span><span class="anchor" id="line-672"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_673"> 673</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_673"></span><span class="anchor" id="line-673"></span>  Tile:                                     Image:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_674"> 674</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_674"></span><span class="anchor" id="line-674"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_675"> 675</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_675"></span><span class="anchor" id="line-675"></span>  .33333..                     .33333.. -&gt; 01111100 -&gt; $7C</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_676"> 676</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_676"></span><span class="anchor" id="line-676"></span>  22...22.                                 01111100 -&gt; $7C</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_677"> 677</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_677"></span><span class="anchor" id="line-677"></span>  11...11.                     22...22. -&gt; 00000000 -&gt; $00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_678"> 678</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_678"></span><span class="anchor" id="line-678"></span>  2222222. &lt;-- digits                      11000110 -&gt; $C6</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_679"> 679</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_679"></span><span class="anchor" id="line-679"></span>  33...33.     represent       11...11. -&gt; 11000110 -&gt; $C6</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_680"> 680</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_680"></span><span class="anchor" id="line-680"></span>  22...22.     color                       00000000 -&gt; $00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_681"> 681</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_681"></span><span class="anchor" id="line-681"></span>  11...11.     numbers         2222222. -&gt; 00000000 -&gt; $00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_682"> 682</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_682"></span><span class="anchor" id="line-682"></span>  ........                                 11111110 -&gt; $FE</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_683"> 683</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_683"></span><span class="anchor" id="line-683"></span>                               33...33. -&gt; 11000110 -&gt; $C6</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_684"> 684</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_684"></span><span class="anchor" id="line-684"></span>                                           11000110 -&gt; $C6</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_685"> 685</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_685"></span><span class="anchor" id="line-685"></span>                               22...22. -&gt; 00000000 -&gt; $00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_686"> 686</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_686"></span><span class="anchor" id="line-686"></span>                                           11000110 -&gt; $C6</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_687"> 687</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_687"></span><span class="anchor" id="line-687"></span>                               11...11. -&gt; 11000110 -&gt; $C6</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_688"> 688</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_688"></span><span class="anchor" id="line-688"></span>                                           00000000 -&gt; $00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_689"> 689</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_689"></span><span class="anchor" id="line-689"></span>                               ........ -&gt; 00000000 -&gt; $00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_690"> 690</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_690"></span><span class="anchor" id="line-690"></span>                                           00000000 -&gt; $00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_691"> 691</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_691"></span><span class="anchor" id="line-691"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_692"> 692</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_692"></span><span class="anchor" id="line-692"></span>  As it was said before, there are two Tile Pattern Tables</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_693"> 693</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_693"></span><span class="anchor" id="line-693"></span> at $8000-8FFF and at $8800-97FF. The first one can be used</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_694"> 694</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_694"></span><span class="anchor" id="line-694"></span> for sprites, the background, and the window display. Its</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_695"> 695</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_695"></span><span class="anchor" id="line-695"></span> tiles are numbered from 0 to 255. The second table can be</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_696"> 696</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_696"></span><span class="anchor" id="line-696"></span> used for the background and the window display and its tiles</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_697"> 697</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_697"></span><span class="anchor" id="line-697"></span> are numbered from -128 to 127.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_698"> 698</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_698"></span><span class="anchor" id="line-698"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_699"> 699</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_699"></span><span class="anchor" id="line-699"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_700"> 700</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_700"></span><span class="anchor" id="line-700"></span>Sprites</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_701"> 701</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_701"></span><span class="anchor" id="line-701"></span>------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_702"> 702</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_702"></span><span class="anchor" id="line-702"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_703"> 703</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_703"></span><span class="anchor" id="line-703"></span>  GameBoy video controller can display up to 40 sprites</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_704"> 704</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_704"></span><span class="anchor" id="line-704"></span> either in 8x8 or in 8x16 pixels. Because of a limitation</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_705"> 705</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_705"></span><span class="anchor" id="line-705"></span> of hardware, only ten sprites can be displayed per scan</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_706"> 706</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_706"></span><span class="anchor" id="line-706"></span> line. Sprite patterns have the same format as tiles, but</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_707"> 707</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_707"></span><span class="anchor" id="line-707"></span> they are taken from the Sprite Pattern Table located at</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_708"> 708</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_708"></span><span class="anchor" id="line-708"></span> $8000-8FFF and have unsigned numbering. Sprite</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_709"> 709</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_709"></span><span class="anchor" id="line-709"></span> attributes reside in the Sprite Attribute Table (OAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_710"> 710</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_710"></span><span class="anchor" id="line-710"></span> - Object Attribute Memory) at $FE00-FE9F. OAM is divided</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_711"> 711</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_711"></span><span class="anchor" id="line-711"></span> into 40 4-byte blocks each of which corresponds to a sprite.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_712"> 712</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_712"></span><span class="anchor" id="line-712"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_713"> 713</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_713"></span><span class="anchor" id="line-713"></span>  In 8x16 sprite mode, the least significant bit of the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_714"> 714</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_714"></span><span class="anchor" id="line-714"></span> sprite pattern number is ignored and treated as 0.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_715"> 715</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_715"></span><span class="anchor" id="line-715"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_716"> 716</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_716"></span><span class="anchor" id="line-716"></span>  When sprites with different x coordinate values overlap,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_717"> 717</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_717"></span><span class="anchor" id="line-717"></span> the one with the smaller x coordinate (closer to the left)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_718"> 718</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_718"></span><span class="anchor" id="line-718"></span> will have priority and appear above any others.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_719"> 719</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_719"></span><span class="anchor" id="line-719"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_720"> 720</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_720"></span><span class="anchor" id="line-720"></span>  When sprites with the same x coordinate values overlap,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_721"> 721</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_721"></span><span class="anchor" id="line-721"></span> they have priority according to table ordering. (i.e.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_722"> 722</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_722"></span><span class="anchor" id="line-722"></span> $FE00 - highest, $FE04 - next highest, etc.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_723"> 723</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_723"></span><span class="anchor" id="line-723"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_724"> 724</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_724"></span><span class="anchor" id="line-724"></span>  Please note that Sprite X=0, Y=0 hides a sprite. To</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_725"> 725</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_725"></span><span class="anchor" id="line-725"></span> display a sprite use the following formulas:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_726"> 726</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_726"></span><span class="anchor" id="line-726"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_727"> 727</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_727"></span><span class="anchor" id="line-727"></span> SpriteScreenPositionX(Upper left corner of sprite) = SpriteX - 8</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_728"> 728</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_728"></span><span class="anchor" id="line-728"></span> SpriteScreenPositionY(Upper left corner of sprite) = SpriteY - 16</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_729"> 729</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_729"></span><span class="anchor" id="line-729"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_730"> 730</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_730"></span><span class="anchor" id="line-730"></span>  To display a sprite in the upper left corner of the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_731"> 731</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_731"></span><span class="anchor" id="line-731"></span> screen set sprite X=8, Y=16.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_732"> 732</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_732"></span><span class="anchor" id="line-732"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_733"> 733</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_733"></span><span class="anchor" id="line-733"></span>  Only 10 sprites can be displayed on any one line.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_734"> 734</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_734"></span><span class="anchor" id="line-734"></span> When this limit is exceeded, the lower priority sprites</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_735"> 735</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_735"></span><span class="anchor" id="line-735"></span> (priorities listed above) won't be displayed. To keep</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_736"> 736</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_736"></span><span class="anchor" id="line-736"></span> unused sprites from affecting onscreen sprites set their</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_737"> 737</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_737"></span><span class="anchor" id="line-737"></span> Y coordinate to Y=0 or Y=&gt;144+16. Just setting the X</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_738"> 738</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_738"></span><span class="anchor" id="line-738"></span> coordinate to X=0 or X=&gt;160+8 on a sprite will hide it</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_739"> 739</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_739"></span><span class="anchor" id="line-739"></span> but it will still affect other sprites sharing the same</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_740"> 740</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_740"></span><span class="anchor" id="line-740"></span> lines.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_741"> 741</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_741"></span><span class="anchor" id="line-741"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_742"> 742</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_742"></span><span class="anchor" id="line-742"></span> Blocks have the following</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_743"> 743</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_743"></span><span class="anchor" id="line-743"></span> format:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_744"> 744</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_744"></span><span class="anchor" id="line-744"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_745"> 745</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_745"></span><span class="anchor" id="line-745"></span>  Byte0  Y position on the screen</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_746"> 746</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_746"></span><span class="anchor" id="line-746"></span>  Byte1  X position on the screen</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_747"> 747</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_747"></span><span class="anchor" id="line-747"></span>  Byte2  Pattern number 0-255 (Unlike some tile</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_748"> 748</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_748"></span><span class="anchor" id="line-748"></span>         numbers, sprite pattern numbers are unsigned.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_749"> 749</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_749"></span><span class="anchor" id="line-749"></span>         LSB is ignored (treated as 0) in 8x16 mode.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_750"> 750</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_750"></span><span class="anchor" id="line-750"></span>  Byte3  Flags:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_751"> 751</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_751"></span><span class="anchor" id="line-751"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_752"> 752</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_752"></span><span class="anchor" id="line-752"></span>         Bit7  Priority</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_753"> 753</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_753"></span><span class="anchor" id="line-753"></span>               If this bit is set to 0, sprite is displayed</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_754"> 754</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_754"></span><span class="anchor" id="line-754"></span>               on top of background &amp; window. If this bit</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_755"> 755</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_755"></span><span class="anchor" id="line-755"></span>               is set to 1, then sprite will be hidden behind</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_756"> 756</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_756"></span><span class="anchor" id="line-756"></span>               colors 1, 2, and 3 of the background &amp; window.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_757"> 757</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_757"></span><span class="anchor" id="line-757"></span>               (Sprite only prevails over color 0 of BG &amp; win.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_758"> 758</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_758"></span><span class="anchor" id="line-758"></span>         Bit6  Y flip</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_759"> 759</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_759"></span><span class="anchor" id="line-759"></span>               Sprite pattern is flipped vertically if</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_760"> 760</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_760"></span><span class="anchor" id="line-760"></span>               this bit is set to 1.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_761"> 761</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_761"></span><span class="anchor" id="line-761"></span>         Bit5  X flip</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_762"> 762</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_762"></span><span class="anchor" id="line-762"></span>               Sprite pattern is flipped horizontally if</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_763"> 763</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_763"></span><span class="anchor" id="line-763"></span>               this bit is set to 1.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_764"> 764</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_764"></span><span class="anchor" id="line-764"></span>         Bit4  Palette number</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_765"> 765</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_765"></span><span class="anchor" id="line-765"></span>               Sprite colors are taken from OBJ1PAL if</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_766"> 766</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_766"></span><span class="anchor" id="line-766"></span>               this bit is set to 1 and from OBJ0PAL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_767"> 767</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_767"></span><span class="anchor" id="line-767"></span>               otherwise.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_768"> 768</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_768"></span><span class="anchor" id="line-768"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_769"> 769</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_769"></span><span class="anchor" id="line-769"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_770"> 770</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_770"></span><span class="anchor" id="line-770"></span>Sprite RAM Bug</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_771"> 771</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_771"></span><span class="anchor" id="line-771"></span>--------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_772"> 772</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_772"></span><span class="anchor" id="line-772"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_773"> 773</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_773"></span><span class="anchor" id="line-773"></span>  There is a flaw in the GameBoy hardware that causes</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_774"> 774</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_774"></span><span class="anchor" id="line-774"></span> trash to be written to OAM RAM if the following commands</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_775"> 775</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_775"></span><span class="anchor" id="line-775"></span> are used while their 16-bit content is in the range</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_776"> 776</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_776"></span><span class="anchor" id="line-776"></span> of $FE00 to $FEFF:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_777"> 777</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_777"></span><span class="anchor" id="line-777"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_778"> 778</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_778"></span><span class="anchor" id="line-778"></span>  inc xx     (xx = bc,de, or hl)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_779"> 779</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_779"></span><span class="anchor" id="line-779"></span>  dec xx</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_780"> 780</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_780"></span><span class="anchor" id="line-780"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_781"> 781</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_781"></span><span class="anchor" id="line-781"></span>  ldi a,(hl)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_782"> 782</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_782"></span><span class="anchor" id="line-782"></span>  ldd a,(hl)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_783"> 783</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_783"></span><span class="anchor" id="line-783"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_784"> 784</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_784"></span><span class="anchor" id="line-784"></span>  ldi (hl),a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_785"> 785</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_785"></span><span class="anchor" id="line-785"></span>  ldd (hl),a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_786"> 786</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_786"></span><span class="anchor" id="line-786"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_787"> 787</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_787"></span><span class="anchor" id="line-787"></span>  Only sprites 1 &amp; 2 ($FE00 &amp; $FE04) are not affected</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_788"> 788</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_788"></span><span class="anchor" id="line-788"></span> by these instructions.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_789"> 789</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_789"></span><span class="anchor" id="line-789"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_790"> 790</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_790"></span><span class="anchor" id="line-790"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_791"> 791</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_791"></span><span class="anchor" id="line-791"></span>Sound</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_792"> 792</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_792"></span><span class="anchor" id="line-792"></span>-----</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_793"> 793</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_793"></span><span class="anchor" id="line-793"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_794"> 794</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_794"></span><span class="anchor" id="line-794"></span>  There are two sound channels connected to the output</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_795"> 795</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_795"></span><span class="anchor" id="line-795"></span> terminals SO1 and SO2. There is also a input terminal Vin</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_796"> 796</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_796"></span><span class="anchor" id="line-796"></span> connected to the cartridge. It can be routed to either of</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_797"> 797</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_797"></span><span class="anchor" id="line-797"></span> both output terminals. GameBoy circuitry allows producing</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_798"> 798</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_798"></span><span class="anchor" id="line-798"></span> sound in four different ways:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_799"> 799</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_799"></span><span class="anchor" id="line-799"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_800"> 800</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_800"></span><span class="anchor" id="line-800"></span>   Quadrangular wave patterns with sweep and envelope functions.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_801"> 801</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_801"></span><span class="anchor" id="line-801"></span>   Quadrangular wave patterns with envelope functions.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_802"> 802</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_802"></span><span class="anchor" id="line-802"></span>   Voluntary wave patterns from wave RAM.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_803"> 803</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_803"></span><span class="anchor" id="line-803"></span>   White noise with an envelope function.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_804"> 804</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_804"></span><span class="anchor" id="line-804"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_805"> 805</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_805"></span><span class="anchor" id="line-805"></span>  These four sounds can be controlled independantly and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_806"> 806</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_806"></span><span class="anchor" id="line-806"></span> then mixed separately for each of the output terminals.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_807"> 807</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_807"></span><span class="anchor" id="line-807"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_808"> 808</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_808"></span><span class="anchor" id="line-808"></span>  Sound registers may be set at all times while producing</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_809"> 809</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_809"></span><span class="anchor" id="line-809"></span> sound.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_810"> 810</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_810"></span><span class="anchor" id="line-810"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_811"> 811</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_811"></span><span class="anchor" id="line-811"></span>  When setting the initial value of the envelope and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_812"> 812</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_812"></span><span class="anchor" id="line-812"></span> restarting the length counter, set the initial flag to 1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_813"> 813</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_813"></span><span class="anchor" id="line-813"></span> and initialize the data.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_814"> 814</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_814"></span><span class="anchor" id="line-814"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_815"> 815</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_815"></span><span class="anchor" id="line-815"></span>  Under the following situations the Sound ON flag is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_816"> 816</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_816"></span><span class="anchor" id="line-816"></span> reset and the sound output stops:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_817"> 817</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_817"></span><span class="anchor" id="line-817"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_818"> 818</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_818"></span><span class="anchor" id="line-818"></span>  1. When the sound output is stopped by the length counter.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_819"> 819</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_819"></span><span class="anchor" id="line-819"></span>  2. When overflow occurs at the addition mode while sweep</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_820"> 820</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_820"></span><span class="anchor" id="line-820"></span>     is operating at sound 1.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_821"> 821</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_821"></span><span class="anchor" id="line-821"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_822"> 822</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_822"></span><span class="anchor" id="line-822"></span>  When the Sound OFF flag for sound 3 (bit 7 of NR30) is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_823"> 823</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_823"></span><span class="anchor" id="line-823"></span> set at 0, the cancellation of the OFF mode must be done</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_824"> 824</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_824"></span><span class="anchor" id="line-824"></span> by setting the sound OFF flag to 1. By initializing</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_825"> 825</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_825"></span><span class="anchor" id="line-825"></span> sound 3, it starts it's function.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_826"> 826</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_826"></span><span class="anchor" id="line-826"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_827"> 827</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_827"></span><span class="anchor" id="line-827"></span>  When the All Sound OFF flag (bit 7 of NR52) is set to 0,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_828"> 828</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_828"></span><span class="anchor" id="line-828"></span> the mode registers for sounds 1,2,3, and 4 are reset and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_829"> 829</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_829"></span><span class="anchor" id="line-829"></span> the sound output stops. (NOTE: The setting of each sounds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_830"> 830</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_830"></span><span class="anchor" id="line-830"></span> mode register must be done after the All Sound OFF mode</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_831"> 831</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_831"></span><span class="anchor" id="line-831"></span> is cancelled. During the All Sound OFF mode, each sound</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_832"> 832</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_832"></span><span class="anchor" id="line-832"></span> mode register cannot be set.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_833"> 833</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_833"></span><span class="anchor" id="line-833"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_834"> 834</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_834"></span><span class="anchor" id="line-834"></span>  NOTE: DURING THE ALL SOUND OFF MODE, GB POWER CONSUMPTION</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_835"> 835</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_835"></span><span class="anchor" id="line-835"></span> DROPS BY 16% OR MORE! WHILE YOUR PROGRAMS AREN'T USING</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_836"> 836</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_836"></span><span class="anchor" id="line-836"></span> SOUND THEN SET THE ALL SOUND OFF FLAG TO 0. IT DEFAULTS</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_837"> 837</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_837"></span><span class="anchor" id="line-837"></span> TO 1 ON RESET.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_838"> 838</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_838"></span><span class="anchor" id="line-838"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_839"> 839</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_839"></span><span class="anchor" id="line-839"></span>  These tend to be the two most important equations in</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_840"> 840</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_840"></span><span class="anchor" id="line-840"></span> converting between Hertz and GB frequency registers:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_841"> 841</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_841"></span><span class="anchor" id="line-841"></span> (Sounds will have a 2.4% higher frequency on Super GB.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_842"> 842</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_842"></span><span class="anchor" id="line-842"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_843"> 843</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_843"></span><span class="anchor" id="line-843"></span>     gb = 2048 - (131072 / Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_844"> 844</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_844"></span><span class="anchor" id="line-844"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_845"> 845</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_845"></span><span class="anchor" id="line-845"></span>     Hz  = 131072 / (2048 - gb)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_846"> 846</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_846"></span><span class="anchor" id="line-846"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_847"> 847</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_847"></span><span class="anchor" id="line-847"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_848"> 848</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_848"></span><span class="anchor" id="line-848"></span>Timer</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_849"> 849</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_849"></span><span class="anchor" id="line-849"></span>-----</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_850"> 850</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_850"></span><span class="anchor" id="line-850"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_851"> 851</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_851"></span><span class="anchor" id="line-851"></span>  Sometimes it's useful to have a timer that interrupts at</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_852"> 852</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_852"></span><span class="anchor" id="line-852"></span> regular intervals for routines that require periodic or</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_853"> 853</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_853"></span><span class="anchor" id="line-853"></span> percise updates. The timer in the GameBoy has a selectable</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_854"> 854</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_854"></span><span class="anchor" id="line-854"></span> frequency of 4096, 16384, 65536, or 262144 Hertz. This</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_855"> 855</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_855"></span><span class="anchor" id="line-855"></span> frequency increments the Timer Counter (TIMA). When it</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_856"> 856</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_856"></span><span class="anchor" id="line-856"></span> overflows, it generates an interrupt. It is then loaded</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_857"> 857</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_857"></span><span class="anchor" id="line-857"></span> with the contents of Timer Modulo (TMA). The following</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_858"> 858</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_858"></span><span class="anchor" id="line-858"></span> are examples:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_859"> 859</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_859"></span><span class="anchor" id="line-859"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_860"> 860</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_860"></span><span class="anchor" id="line-860"></span> ;This interval timer interrupts 4096 times per second</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_861"> 861</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_861"></span><span class="anchor" id="line-861"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_862"> 862</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_862"></span><span class="anchor" id="line-862"></span>     ld  a,-1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_863"> 863</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_863"></span><span class="anchor" id="line-863"></span>     ld  ($FF06),a     ;Set TMA to divide clock by 1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_864"> 864</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_864"></span><span class="anchor" id="line-864"></span>     ld  a,4</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_865"> 865</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_865"></span><span class="anchor" id="line-865"></span>     ld  ($FF07),a     ;Set clock to 4096 Hertz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_866"> 866</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_866"></span><span class="anchor" id="line-866"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_867"> 867</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_867"></span><span class="anchor" id="line-867"></span> ;This interval timer interrupts 65536 times per second</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_868"> 868</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_868"></span><span class="anchor" id="line-868"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_869"> 869</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_869"></span><span class="anchor" id="line-869"></span>     ld  a,-4</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_870"> 870</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_870"></span><span class="anchor" id="line-870"></span>     ld  ($FF06),a     ;Set TMA to divide clock by 4</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_871"> 871</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_871"></span><span class="anchor" id="line-871"></span>     ld  a,5</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_872"> 872</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_872"></span><span class="anchor" id="line-872"></span>     ld  ($FF07),a     ;Set clock to 262144 Hertz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_873"> 873</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_873"></span><span class="anchor" id="line-873"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_874"> 874</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_874"></span><span class="anchor" id="line-874"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_875"> 875</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_875"></span><span class="anchor" id="line-875"></span>Serial I/O</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_876"> 876</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_876"></span><span class="anchor" id="line-876"></span>----------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_877"> 877</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_877"></span><span class="anchor" id="line-877"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_878"> 878</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_878"></span><span class="anchor" id="line-878"></span>  The serial I/O port on the Gameboy is a very simple setup</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_879"> 879</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_879"></span><span class="anchor" id="line-879"></span> and is crude compared to standard RS-232 (IBM-PC) or RS-485</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_880"> 880</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_880"></span><span class="anchor" id="line-880"></span> (Macintosh) serial ports. There are no start or stop bits</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_881"> 881</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_881"></span><span class="anchor" id="line-881"></span> so the programmer must be more creative when using this port.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_882"> 882</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_882"></span><span class="anchor" id="line-882"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_883"> 883</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_883"></span><span class="anchor" id="line-883"></span>  During a transfer, a byte is shifted in at the same time</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_884"> 884</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_884"></span><span class="anchor" id="line-884"></span> that a byte is shifted out. The rate of the shift is deter-</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_885"> 885</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_885"></span><span class="anchor" id="line-885"></span> mined by whether the clock source is internal or external.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_886"> 886</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_886"></span><span class="anchor" id="line-886"></span> If internal, the bits are shifted out at a rate of 8192Hz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_887"> 887</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_887"></span><span class="anchor" id="line-887"></span> (122 microseconds) per bit. The most significant bit is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_888"> 888</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_888"></span><span class="anchor" id="line-888"></span> shifted in and out first.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_889"> 889</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_889"></span><span class="anchor" id="line-889"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_890"> 890</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_890"></span><span class="anchor" id="line-890"></span>  When the internal clock is selected, it drives the clock</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_891"> 891</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_891"></span><span class="anchor" id="line-891"></span> pin on the game link port and it stays high when not used.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_892"> 892</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_892"></span><span class="anchor" id="line-892"></span> During a transfer it will go low eight times to clock</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_893"> 893</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_893"></span><span class="anchor" id="line-893"></span> in/out each bit.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_894"> 894</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_894"></span><span class="anchor" id="line-894"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_895"> 895</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_895"></span><span class="anchor" id="line-895"></span>  A programmer initates a serial transfer by setting bit 7</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_896"> 896</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_896"></span><span class="anchor" id="line-896"></span> of $FF02. This bit may be read and is automatically set</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_897"> 897</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_897"></span><span class="anchor" id="line-897"></span> to 0 at the completion of transfer. After this bit is set,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_898"> 898</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_898"></span><span class="anchor" id="line-898"></span> an interrupt will then occur eight bit clocks later if the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_899"> 899</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_899"></span><span class="anchor" id="line-899"></span> serial interrupt is enabled.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_900"> 900</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_900"></span><span class="anchor" id="line-900"></span>  If internal clock is selected and serial interrupt is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_901"> 901</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_901"></span><span class="anchor" id="line-901"></span> enabled, this interrupt occurs 122*8 microseconds later.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_902"> 902</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_902"></span><span class="anchor" id="line-902"></span>  If external clock is selected and serial interrupt is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_903"> 903</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_903"></span><span class="anchor" id="line-903"></span> enabled, an interrupt will occur eight bit clocks later.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_904"> 904</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_904"></span><span class="anchor" id="line-904"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_905"> 905</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_905"></span><span class="anchor" id="line-905"></span>  Initiating a serial transfer with external clock will</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_906"> 906</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_906"></span><span class="anchor" id="line-906"></span> wait forever if no external clock is present. This allows</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_907"> 907</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_907"></span><span class="anchor" id="line-907"></span> a certain amount of synchronization with each serial port.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_908"> 908</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_908"></span><span class="anchor" id="line-908"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_909"> 909</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_909"></span><span class="anchor" id="line-909"></span>  The state of the last bit shifted out determines the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_910"> 910</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_910"></span><span class="anchor" id="line-910"></span> state of the output line until another transfer takes</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_911"> 911</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_911"></span><span class="anchor" id="line-911"></span> place.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_912"> 912</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_912"></span><span class="anchor" id="line-912"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_913"> 913</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_913"></span><span class="anchor" id="line-913"></span>  If a serial transfer with internal clock is performed</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_914"> 914</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_914"></span><span class="anchor" id="line-914"></span> and no external GameBoy is present, a value of $FF will</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_915"> 915</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_915"></span><span class="anchor" id="line-915"></span> be received in the transfer.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_916"> 916</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_916"></span><span class="anchor" id="line-916"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_917"> 917</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_917"></span><span class="anchor" id="line-917"></span>  The following code causes $75 to be shifted out the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_918"> 918</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_918"></span><span class="anchor" id="line-918"></span> serial port and a byte to be shifted into $FF01:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_919"> 919</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_919"></span><span class="anchor" id="line-919"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_920"> 920</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_920"></span><span class="anchor" id="line-920"></span>    ld   a,$75</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_921"> 921</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_921"></span><span class="anchor" id="line-921"></span>    ld  ($FF01),a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_922"> 922</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_922"></span><span class="anchor" id="line-922"></span>    ld   a,$81</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_923"> 923</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_923"></span><span class="anchor" id="line-923"></span>    ld  ($FF02),a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_924"> 924</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_924"></span><span class="anchor" id="line-924"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_925"> 925</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_925"></span><span class="anchor" id="line-925"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_926"> 926</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_926"></span><span class="anchor" id="line-926"></span>Interrupt Procedure</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_927"> 927</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_927"></span><span class="anchor" id="line-927"></span>-------------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_928"> 928</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_928"></span><span class="anchor" id="line-928"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_929"> 929</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_929"></span><span class="anchor" id="line-929"></span>  The IME (interrupt master enable) flag is reset by DI and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_930"> 930</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_930"></span><span class="anchor" id="line-930"></span> prohibits all interrupts. It is set by EI and acknowledges</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_931"> 931</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_931"></span><span class="anchor" id="line-931"></span> the interrupt setting by the IE register.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_932"> 932</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_932"></span><span class="anchor" id="line-932"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_933"> 933</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_933"></span><span class="anchor" id="line-933"></span> 1. When an interrupt is generated, the IF flag will be set.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_934"> 934</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_934"></span><span class="anchor" id="line-934"></span> 2. If the IME flag is set &amp; the corresponding IE flag is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_935"> 935</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_935"></span><span class="anchor" id="line-935"></span>    set, the following 3 steps are performed.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_936"> 936</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_936"></span><span class="anchor" id="line-936"></span> 3. Reset the IME flag and prevent all interrupts.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_937"> 937</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_937"></span><span class="anchor" id="line-937"></span> 4. The PC (program counter) is pushed onto the stack.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_938"> 938</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_938"></span><span class="anchor" id="line-938"></span> 5. Jump to the starting address of the interrupt.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_939"> 939</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_939"></span><span class="anchor" id="line-939"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_940"> 940</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_940"></span><span class="anchor" id="line-940"></span>  Resetting of the IF register, which was the cause of the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_941"> 941</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_941"></span><span class="anchor" id="line-941"></span> interrupt, is done by hardware.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_942"> 942</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_942"></span><span class="anchor" id="line-942"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_943"> 943</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_943"></span><span class="anchor" id="line-943"></span>  During the interrupt, pushing of registers to be used</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_944"> 944</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_944"></span><span class="anchor" id="line-944"></span> should be performed by the interrupt routine.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_945"> 945</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_945"></span><span class="anchor" id="line-945"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_946"> 946</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_946"></span><span class="anchor" id="line-946"></span>  Once the interrupt service is in progress, all the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_947"> 947</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_947"></span><span class="anchor" id="line-947"></span> interrupts will be prohibited. However, if the IME flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_948"> 948</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_948"></span><span class="anchor" id="line-948"></span> and the IE flag are controlled, a number of interrupt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_949"> 949</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_949"></span><span class="anchor" id="line-949"></span> services can be made possible by nesting.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_950"> 950</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_950"></span><span class="anchor" id="line-950"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_951"> 951</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_951"></span><span class="anchor" id="line-951"></span>  Return from an interrupt routine can be performed by</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_952"> 952</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_952"></span><span class="anchor" id="line-952"></span> either RETI or RET instruction.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_953"> 953</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_953"></span><span class="anchor" id="line-953"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_954"> 954</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_954"></span><span class="anchor" id="line-954"></span>  The RETI instruction enables interrupts after doing a</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_955"> 955</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_955"></span><span class="anchor" id="line-955"></span> return operation.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_956"> 956</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_956"></span><span class="anchor" id="line-956"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_957"> 957</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_957"></span><span class="anchor" id="line-957"></span>  If a RET is used as the final instruction in an interrupt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_958"> 958</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_958"></span><span class="anchor" id="line-958"></span> routine, interrupts will remain disabled unless a EI was</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_959"> 959</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_959"></span><span class="anchor" id="line-959"></span> used in the interrupt routine or is used at a later time.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_960"> 960</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_960"></span><span class="anchor" id="line-960"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_961"> 961</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_961"></span><span class="anchor" id="line-961"></span>  The interrupt will be acknowledged during opcode fetch</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_962"> 962</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_962"></span><span class="anchor" id="line-962"></span> period of each instruction.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_963"> 963</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_963"></span><span class="anchor" id="line-963"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_964"> 964</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_964"></span><span class="anchor" id="line-964"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_965"> 965</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_965"></span><span class="anchor" id="line-965"></span>Interrupt Descriptions</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_966"> 966</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_966"></span><span class="anchor" id="line-966"></span>----------------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_967"> 967</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_967"></span><span class="anchor" id="line-967"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_968"> 968</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_968"></span><span class="anchor" id="line-968"></span>  The following interrupts only occur if they have been</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_969"> 969</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_969"></span><span class="anchor" id="line-969"></span> enabled in the Interrupt Enable register ($FFFF) and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_970"> 970</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_970"></span><span class="anchor" id="line-970"></span> if the interrupts have actually been enabled using the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_971"> 971</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_971"></span><span class="anchor" id="line-971"></span> EI instruction.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_972"> 972</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_972"></span><span class="anchor" id="line-972"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_973"> 973</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_973"></span><span class="anchor" id="line-973"></span>  V-Blank -</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_974"> 974</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_974"></span><span class="anchor" id="line-974"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_975"> 975</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_975"></span><span class="anchor" id="line-975"></span>   The V-Blank interrupt occurs ~59.7 times a second</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_976"> 976</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_976"></span><span class="anchor" id="line-976"></span>   on a regular GB and ~61.1 times a second on a Super</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_977"> 977</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_977"></span><span class="anchor" id="line-977"></span>   GB (SGB). This interrupt occurs at the beginning of</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_978"> 978</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_978"></span><span class="anchor" id="line-978"></span>   the V-Blank period. During this period video hardware</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_979"> 979</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_979"></span><span class="anchor" id="line-979"></span>   is not using video ram so it may be freely accessed.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_980"> 980</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_980"></span><span class="anchor" id="line-980"></span>   This period lasts approximately 1.1 milliseconds.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_981"> 981</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_981"></span><span class="anchor" id="line-981"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_982"> 982</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_982"></span><span class="anchor" id="line-982"></span>  LCDC Status -</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_983"> 983</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_983"></span><span class="anchor" id="line-983"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_984"> 984</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_984"></span><span class="anchor" id="line-984"></span>   There are various reasons for this interrupt to occur</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_985"> 985</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_985"></span><span class="anchor" id="line-985"></span>   as described by the STAT register ($FF40). One very</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_986"> 986</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_986"></span><span class="anchor" id="line-986"></span>   popular reason is to indicate to the user when the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_987"> 987</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_987"></span><span class="anchor" id="line-987"></span>   video hardware is about to redraw a given LCD line.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_988"> 988</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_988"></span><span class="anchor" id="line-988"></span>   This can be useful for dynamically controlling the SCX/</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_989"> 989</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_989"></span><span class="anchor" id="line-989"></span>   SCY registers ($FF43/$FF42) to perform special video</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_990"> 990</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_990"></span><span class="anchor" id="line-990"></span>   effects.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_991"> 991</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_991"></span><span class="anchor" id="line-991"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_992"> 992</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_992"></span><span class="anchor" id="line-992"></span>  Timer Overflow -</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_993"> 993</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_993"></span><span class="anchor" id="line-993"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_994"> 994</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_994"></span><span class="anchor" id="line-994"></span>   This interrupt occurs when the TIMA register ($FF05)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_995"> 995</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_995"></span><span class="anchor" id="line-995"></span>   changes from $FF to $00.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_996"> 996</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_996"></span><span class="anchor" id="line-996"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_997"> 997</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_997"></span><span class="anchor" id="line-997"></span>  Serial Transfer Completion -</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_998"> 998</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_998"></span><span class="anchor" id="line-998"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_999"> 999</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_999"></span><span class="anchor" id="line-999"></span>   This interrupt occurs when a serial transfer has</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1000">1000</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1000"></span><span class="anchor" id="line-1000"></span>   completed on the game link port.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1001">1001</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1001"></span><span class="anchor" id="line-1001"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1002">1002</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1002"></span><span class="anchor" id="line-1002"></span>  High-to-Low of P10-P13 -</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1003">1003</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1003"></span><span class="anchor" id="line-1003"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1004">1004</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1004"></span><span class="anchor" id="line-1004"></span>   This interrupt occurs on a transition of any of the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1005">1005</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1005"></span><span class="anchor" id="line-1005"></span>   keypad input lines from high to low. Due to the fact</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1006">1006</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1006"></span><span class="anchor" id="line-1006"></span>   that keypad "bounce"* is virtually always present,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1007">1007</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1007"></span><span class="anchor" id="line-1007"></span>   software should expect this interrupt to occur one</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1008">1008</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1008"></span><span class="anchor" id="line-1008"></span>   or more times for every button press and one or more</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1009">1009</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1009"></span><span class="anchor" id="line-1009"></span>   times for every button release.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1010">1010</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1010"></span><span class="anchor" id="line-1010"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1011">1011</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1011"></span><span class="anchor" id="line-1011"></span>   * - Bounce tends to be a side effect of any button</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1012">1012</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1012"></span><span class="anchor" id="line-1012"></span>      making or breaking a connection. During these</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1013">1013</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1013"></span><span class="anchor" id="line-1013"></span>      periods, it is very common for a small amount of</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1014">1014</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1014"></span><span class="anchor" id="line-1014"></span>      oscillation between high &amp; low states to take place.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1015">1015</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1015"></span><span class="anchor" id="line-1015"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1016">1016</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1016"></span><span class="anchor" id="line-1016"></span>I/O Registers</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1017">1017</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1017"></span><span class="anchor" id="line-1017"></span>-------------</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1018">1018</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1018"></span><span class="anchor" id="line-1018"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1019">1019</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1019"></span><span class="anchor" id="line-1019"></span>FF00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1020">1020</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1020"></span><span class="anchor" id="line-1020"></span>   Name     - P1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1021">1021</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1021"></span><span class="anchor" id="line-1021"></span>   Contents - Register for reading joy pad info</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1022">1022</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1022"></span><span class="anchor" id="line-1022"></span>              and determining system type.    (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1023">1023</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1023"></span><span class="anchor" id="line-1023"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1024">1024</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1024"></span><span class="anchor" id="line-1024"></span>           Bit 7 - Not used</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1025">1025</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1025"></span><span class="anchor" id="line-1025"></span>           Bit 6 - Not used</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1026">1026</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1026"></span><span class="anchor" id="line-1026"></span>           Bit 5 - P15 out port</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1027">1027</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1027"></span><span class="anchor" id="line-1027"></span>           Bit 4 - P14 out port</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1028">1028</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1028"></span><span class="anchor" id="line-1028"></span>           Bit 3 - P13 in port</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1029">1029</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1029"></span><span class="anchor" id="line-1029"></span>           Bit 2 - P12 in port</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1030">1030</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1030"></span><span class="anchor" id="line-1030"></span>           Bit 1 - P11 in port</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1031">1031</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1031"></span><span class="anchor" id="line-1031"></span>           Bit 0 - P10 in port</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1032">1032</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1032"></span><span class="anchor" id="line-1032"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1033">1033</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1033"></span><span class="anchor" id="line-1033"></span>         This is the matrix layout for register $FF00:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1034">1034</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1034"></span><span class="anchor" id="line-1034"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1035">1035</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1035"></span><span class="anchor" id="line-1035"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1036">1036</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1036"></span><span class="anchor" id="line-1036"></span>                 P14        P15</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1037">1037</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1037"></span><span class="anchor" id="line-1037"></span>                  |          |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1038">1038</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1038"></span><span class="anchor" id="line-1038"></span>        P10-------O-Right----O-A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1039">1039</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1039"></span><span class="anchor" id="line-1039"></span>                  |          |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1040">1040</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1040"></span><span class="anchor" id="line-1040"></span>        P11-------O-Left-----O-B</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1041">1041</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1041"></span><span class="anchor" id="line-1041"></span>                  |          |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1042">1042</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1042"></span><span class="anchor" id="line-1042"></span>        P12-------O-Up-------O-Select</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1043">1043</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1043"></span><span class="anchor" id="line-1043"></span>                  |          |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1044">1044</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1044"></span><span class="anchor" id="line-1044"></span>        P13-------O-Down-----O-Start</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1045">1045</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1045"></span><span class="anchor" id="line-1045"></span>                  |          |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1046">1046</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1046"></span><span class="anchor" id="line-1046"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1047">1047</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1047"></span><span class="anchor" id="line-1047"></span>       Example code:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1048">1048</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1048"></span><span class="anchor" id="line-1048"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1049">1049</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1049"></span><span class="anchor" id="line-1049"></span>          Game: Ms. Pacman</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1050">1050</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1050"></span><span class="anchor" id="line-1050"></span>          Address: $3b1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1051">1051</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1051"></span><span class="anchor" id="line-1051"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1052">1052</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1052"></span><span class="anchor" id="line-1052"></span>        LD A,$20       &lt;- bit 5 = $20</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1053">1053</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1053"></span><span class="anchor" id="line-1053"></span>        LD ($FF00),A   &lt;- select P14 by setting it low</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1054">1054</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1054"></span><span class="anchor" id="line-1054"></span>        LD A,($FF00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1055">1055</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1055"></span><span class="anchor" id="line-1055"></span>        LD A,($FF00)   &lt;- wait a few cycles</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1056">1056</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1056"></span><span class="anchor" id="line-1056"></span>        CPL            &lt;- complement A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1057">1057</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1057"></span><span class="anchor" id="line-1057"></span>        AND $0F        &lt;- get only first 4 bits</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1058">1058</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1058"></span><span class="anchor" id="line-1058"></span>        SWAP A         &lt;- swap it</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1059">1059</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1059"></span><span class="anchor" id="line-1059"></span>        LD B,A         &lt;- store A in B</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1060">1060</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1060"></span><span class="anchor" id="line-1060"></span>        LD A,$10</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1061">1061</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1061"></span><span class="anchor" id="line-1061"></span>        LD ($FF00),A   &lt;- select P15 by setting it low</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1062">1062</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1062"></span><span class="anchor" id="line-1062"></span>        LD A,($FF00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1063">1063</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1063"></span><span class="anchor" id="line-1063"></span>        LD A,($FF00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1064">1064</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1064"></span><span class="anchor" id="line-1064"></span>        LD A,($FF00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1065">1065</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1065"></span><span class="anchor" id="line-1065"></span>        LD A,($FF00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1066">1066</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1066"></span><span class="anchor" id="line-1066"></span>        LD A,($FF00)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1067">1067</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1067"></span><span class="anchor" id="line-1067"></span>        LD A,($FF00)   &lt;- Wait a few MORE cycles</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1068">1068</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1068"></span><span class="anchor" id="line-1068"></span>        CPL            &lt;- complement (invert)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1069">1069</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1069"></span><span class="anchor" id="line-1069"></span>        AND $0F        &lt;- get first 4 bits</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1070">1070</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1070"></span><span class="anchor" id="line-1070"></span>        OR B           &lt;- put A and B together</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1071">1071</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1071"></span><span class="anchor" id="line-1071"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1072">1072</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1072"></span><span class="anchor" id="line-1072"></span>        LD B,A         &lt;- store A in D</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1073">1073</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1073"></span><span class="anchor" id="line-1073"></span>        LD A,($FF8B)   &lt;- read old joy data from ram</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1074">1074</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1074"></span><span class="anchor" id="line-1074"></span>        XOR B          &lt;- toggle w/current button bit</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1075">1075</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1075"></span><span class="anchor" id="line-1075"></span>        AND B          &lt;- get current button bit back</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1076">1076</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1076"></span><span class="anchor" id="line-1076"></span>        LD ($FF8C),A   &lt;- save in new Joydata storage</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1077">1077</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1077"></span><span class="anchor" id="line-1077"></span>        LD A,B         &lt;- put original value in A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1078">1078</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1078"></span><span class="anchor" id="line-1078"></span>        LD ($FF8B),A   &lt;- store it as old joy data</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1079">1079</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1079"></span><span class="anchor" id="line-1079"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1080">1080</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1080"></span><span class="anchor" id="line-1080"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1081">1081</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1081"></span><span class="anchor" id="line-1081"></span>        LD A,$30       &lt;- deselect P14 and P15</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1082">1082</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1082"></span><span class="anchor" id="line-1082"></span>        LD ($FF00),A   &lt;- RESET Joypad</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1083">1083</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1083"></span><span class="anchor" id="line-1083"></span>        RET            &lt;- Return from Subroutine</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1084">1084</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1084"></span><span class="anchor" id="line-1084"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1085">1085</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1085"></span><span class="anchor" id="line-1085"></span>          The button values using the above method are such:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1086">1086</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1086"></span><span class="anchor" id="line-1086"></span>          $80 - Start             $8 - Down</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1087">1087</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1087"></span><span class="anchor" id="line-1087"></span>          $40 - Select            $4 - Up</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1088">1088</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1088"></span><span class="anchor" id="line-1088"></span>          $20 - B                 $2 - Left</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1089">1089</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1089"></span><span class="anchor" id="line-1089"></span>          $10 - A                 $1 - Right</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1090">1090</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1090"></span><span class="anchor" id="line-1090"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1091">1091</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1091"></span><span class="anchor" id="line-1091"></span>          Let's say we held down A, Start, and Up.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1092">1092</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1092"></span><span class="anchor" id="line-1092"></span>          The value returned in accumulator A would be $94</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1093">1093</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1093"></span><span class="anchor" id="line-1093"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1094">1094</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1094"></span><span class="anchor" id="line-1094"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1095">1095</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1095"></span><span class="anchor" id="line-1095"></span>FF01</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1096">1096</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1096"></span><span class="anchor" id="line-1096"></span>   Name     - SB</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1097">1097</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1097"></span><span class="anchor" id="line-1097"></span>   Contents - Serial transfer data (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1098">1098</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1098"></span><span class="anchor" id="line-1098"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1099">1099</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1099"></span><span class="anchor" id="line-1099"></span>              8 Bits of data to be read/written</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1100">1100</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1100"></span><span class="anchor" id="line-1100"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1101">1101</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1101"></span><span class="anchor" id="line-1101"></span>FF02</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1102">1102</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1102"></span><span class="anchor" id="line-1102"></span>   Name     - SC</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1103">1103</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1103"></span><span class="anchor" id="line-1103"></span>   Contents - SIO control  (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1104">1104</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1104"></span><span class="anchor" id="line-1104"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1105">1105</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1105"></span><span class="anchor" id="line-1105"></span>              Bit 7 - Transfer Start Flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1106">1106</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1106"></span><span class="anchor" id="line-1106"></span>                      0: Non transfer</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1107">1107</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1107"></span><span class="anchor" id="line-1107"></span>                      1: Start transfer</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1108">1108</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1108"></span><span class="anchor" id="line-1108"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1109">1109</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1109"></span><span class="anchor" id="line-1109"></span>              Bit 0 - Shift Clock</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1110">1110</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1110"></span><span class="anchor" id="line-1110"></span>                      0: External Clock (500KHz Max.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1111">1111</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1111"></span><span class="anchor" id="line-1111"></span>                      1: Internal Clock (8192Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1112">1112</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1112"></span><span class="anchor" id="line-1112"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1113">1113</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1113"></span><span class="anchor" id="line-1113"></span>               Transfer is initiated by setting the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1114">1114</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1114"></span><span class="anchor" id="line-1114"></span>              Transfer Start Flag. This bit may be read</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1115">1115</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1115"></span><span class="anchor" id="line-1115"></span>              and is automatically set to 0 at the end of</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1116">1116</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1116"></span><span class="anchor" id="line-1116"></span>              Transfer.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1117">1117</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1117"></span><span class="anchor" id="line-1117"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1118">1118</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1118"></span><span class="anchor" id="line-1118"></span>               Transmitting and receiving serial data is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1119">1119</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1119"></span><span class="anchor" id="line-1119"></span>              done simultaneously. The received data is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1120">1120</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1120"></span><span class="anchor" id="line-1120"></span>              automatically stored in SB.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1121">1121</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1121"></span><span class="anchor" id="line-1121"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1122">1122</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1122"></span><span class="anchor" id="line-1122"></span>FF04</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1123">1123</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1123"></span><span class="anchor" id="line-1123"></span>   Name     - DIV</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1124">1124</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1124"></span><span class="anchor" id="line-1124"></span>   Contents - Divider Register (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1125">1125</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1125"></span><span class="anchor" id="line-1125"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1126">1126</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1126"></span><span class="anchor" id="line-1126"></span>              This register is incremented 16384 (~16779</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1127">1127</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1127"></span><span class="anchor" id="line-1127"></span>              on SGB) times a second. Writing any value</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1128">1128</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1128"></span><span class="anchor" id="line-1128"></span>              sets it to $00.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1129">1129</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1129"></span><span class="anchor" id="line-1129"></span>FF05</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1130">1130</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1130"></span><span class="anchor" id="line-1130"></span>   Name     - TIMA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1131">1131</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1131"></span><span class="anchor" id="line-1131"></span>   Contents - Timer counter (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1132">1132</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1132"></span><span class="anchor" id="line-1132"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1133">1133</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1133"></span><span class="anchor" id="line-1133"></span>              This timer is incremented by a clock frequency</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1134">1134</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1134"></span><span class="anchor" id="line-1134"></span>              specified by the TAC register ($FF07). The timer</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1135">1135</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1135"></span><span class="anchor" id="line-1135"></span>              generates an interrupt when it overflows.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1136">1136</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1136"></span><span class="anchor" id="line-1136"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1137">1137</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1137"></span><span class="anchor" id="line-1137"></span>FF06</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1138">1138</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1138"></span><span class="anchor" id="line-1138"></span>   Name     - TMA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1139">1139</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1139"></span><span class="anchor" id="line-1139"></span>   Contents - Timer Modulo (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1140">1140</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1140"></span><span class="anchor" id="line-1140"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1141">1141</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1141"></span><span class="anchor" id="line-1141"></span>              When the TIMA overflows, this data will be loaded.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1142">1142</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1142"></span><span class="anchor" id="line-1142"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1143">1143</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1143"></span><span class="anchor" id="line-1143"></span>FF07</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1144">1144</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1144"></span><span class="anchor" id="line-1144"></span>   Name     - TAC</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1145">1145</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1145"></span><span class="anchor" id="line-1145"></span>   Contents - Timer Control (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1146">1146</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1146"></span><span class="anchor" id="line-1146"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1147">1147</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1147"></span><span class="anchor" id="line-1147"></span>              Bit 2 - Timer Stop</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1148">1148</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1148"></span><span class="anchor" id="line-1148"></span>                      0: Stop Timer</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1149">1149</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1149"></span><span class="anchor" id="line-1149"></span>                      1: Start Timer</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1150">1150</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1150"></span><span class="anchor" id="line-1150"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1151">1151</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1151"></span><span class="anchor" id="line-1151"></span>              Bits 1+0 - Input Clock Select</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1152">1152</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1152"></span><span class="anchor" id="line-1152"></span>                         00: 4.096 KHz    (~4.194 KHz SGB)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1153">1153</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1153"></span><span class="anchor" id="line-1153"></span>                         01: 262.144 KHz  (~268.4 KHz SGB)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1154">1154</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1154"></span><span class="anchor" id="line-1154"></span>                         10: 65.536 KHz   (~67.11 KHz SGB)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1155">1155</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1155"></span><span class="anchor" id="line-1155"></span>                         11: 16.384 KHz   (~16.78 KHz SGB)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1156">1156</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1156"></span><span class="anchor" id="line-1156"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1157">1157</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1157"></span><span class="anchor" id="line-1157"></span>FF0F</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1158">1158</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1158"></span><span class="anchor" id="line-1158"></span>   Name     - IF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1159">1159</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1159"></span><span class="anchor" id="line-1159"></span>   Contents - Interrupt Flag (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1160">1160</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1160"></span><span class="anchor" id="line-1160"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1161">1161</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1161"></span><span class="anchor" id="line-1161"></span>              Bit 4: Transition from High to Low of Pin number P10-P13</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1162">1162</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1162"></span><span class="anchor" id="line-1162"></span>              Bit 3: Serial I/O transfer complete</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1163">1163</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1163"></span><span class="anchor" id="line-1163"></span>              Bit 2: Timer Overflow</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1164">1164</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1164"></span><span class="anchor" id="line-1164"></span>              Bit 1: LCDC (see STAT)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1165">1165</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1165"></span><span class="anchor" id="line-1165"></span>              Bit 0: V-Blank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1166">1166</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1166"></span><span class="anchor" id="line-1166"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1167">1167</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1167"></span><span class="anchor" id="line-1167"></span>   The priority and jump address for the above 5 interrupts are:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1168">1168</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1168"></span><span class="anchor" id="line-1168"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1169">1169</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1169"></span><span class="anchor" id="line-1169"></span>    Interrupt        Priority        Start Address</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1170">1170</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1170"></span><span class="anchor" id="line-1170"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1171">1171</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1171"></span><span class="anchor" id="line-1171"></span>    V-Blank             1              $0040</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1172">1172</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1172"></span><span class="anchor" id="line-1172"></span>    LCDC Status         2              $0048 - Modes 0, 1, 2</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1173">1173</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1173"></span><span class="anchor" id="line-1173"></span>                                               LYC=LY coincide (selectable)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1174">1174</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1174"></span><span class="anchor" id="line-1174"></span>    Timer Overflow      3              $0050</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1175">1175</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1175"></span><span class="anchor" id="line-1175"></span>    Serial Transfer     4              $0058 - when transfer is complete</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1176">1176</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1176"></span><span class="anchor" id="line-1176"></span>    Hi-Lo of P10-P13    5              $0060</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1177">1177</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1177"></span><span class="anchor" id="line-1177"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1178">1178</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1178"></span><span class="anchor" id="line-1178"></span>    * When more than 1 interrupts occur at the same time</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1179">1179</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1179"></span><span class="anchor" id="line-1179"></span>      only the interrupt with the highest priority can be</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1180">1180</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1180"></span><span class="anchor" id="line-1180"></span>      acknowledged. When an interrupt is used a '0' should</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1181">1181</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1181"></span><span class="anchor" id="line-1181"></span>      be stored in the IF register before the IE register</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1182">1182</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1182"></span><span class="anchor" id="line-1182"></span>      is set.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1183">1183</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1183"></span><span class="anchor" id="line-1183"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1184">1184</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1184"></span><span class="anchor" id="line-1184"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1185">1185</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1185"></span><span class="anchor" id="line-1185"></span>FF10</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1186">1186</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1186"></span><span class="anchor" id="line-1186"></span>   Name     - NR 10 --- AUD1SWEEP</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1187">1187</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1187"></span><span class="anchor" id="line-1187"></span>   Contents - Sound Mode 1 register, Sweep register (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1188">1188</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1188"></span><span class="anchor" id="line-1188"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1189">1189</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1189"></span><span class="anchor" id="line-1189"></span>              Bit 6-4 - Sweep Time</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1190">1190</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1190"></span><span class="anchor" id="line-1190"></span>              Bit 3   - Sweep Increase/Decrease</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1191">1191</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1191"></span><span class="anchor" id="line-1191"></span>                         0: Addition    (frequency increases)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1192">1192</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1192"></span><span class="anchor" id="line-1192"></span>                         1: Subtraction (frequency decreases)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1193">1193</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1193"></span><span class="anchor" id="line-1193"></span>              Bit 2-0 - Number of sweep shift (n: 0-7)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1194">1194</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1194"></span><span class="anchor" id="line-1194"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1195">1195</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1195"></span><span class="anchor" id="line-1195"></span>              Sweep Time: 000: sweep off - no freq change</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1196">1196</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1196"></span><span class="anchor" id="line-1196"></span>                          001: 7.8 ms  (1/128Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1197">1197</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1197"></span><span class="anchor" id="line-1197"></span>                          010: 15.6 ms (2/128Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1198">1198</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1198"></span><span class="anchor" id="line-1198"></span>                          011: 23.4 ms (3/128Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1199">1199</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1199"></span><span class="anchor" id="line-1199"></span>                          100: 31.3 ms (4/128Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1200">1200</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1200"></span><span class="anchor" id="line-1200"></span>                          101: 39.1 ms (5/128Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1201">1201</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1201"></span><span class="anchor" id="line-1201"></span>                          110: 46.9 ms (6/128Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1202">1202</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1202"></span><span class="anchor" id="line-1202"></span>                          111: 54.7 ms (7/128Hz)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1203">1203</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1203"></span><span class="anchor" id="line-1203"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1204">1204</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1204"></span><span class="anchor" id="line-1204"></span>              The change of frequency (NR13,NR14) at each shift</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1205">1205</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1205"></span><span class="anchor" id="line-1205"></span>              is calculated by the following formula where</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1206">1206</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1206"></span><span class="anchor" id="line-1206"></span>              X(0) is initial freq &amp; X(t-1) is last freq:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1207">1207</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1207"></span><span class="anchor" id="line-1207"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1208">1208</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1208"></span><span class="anchor" id="line-1208"></span>               X(t) = X(t-1) +/- X(t-1)/2^n</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1209">1209</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1209"></span><span class="anchor" id="line-1209"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1210">1210</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1210"></span><span class="anchor" id="line-1210"></span>FF11</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1211">1211</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1211"></span><span class="anchor" id="line-1211"></span>   Name     - NR 11 --- AUD1LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1212">1212</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1212"></span><span class="anchor" id="line-1212"></span>   Contents - Sound Mode 1 register, Sound length/Wave pattern duty (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1213">1213</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1213"></span><span class="anchor" id="line-1213"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1214">1214</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1214"></span><span class="anchor" id="line-1214"></span>              Only Bits 7-6 can be read.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1215">1215</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1215"></span><span class="anchor" id="line-1215"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1216">1216</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1216"></span><span class="anchor" id="line-1216"></span>              Bit 7-6 - Wave Pattern Duty</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1217">1217</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1217"></span><span class="anchor" id="line-1217"></span>              Bit 5-0 - Sound length data (t1: 0-63)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1218">1218</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1218"></span><span class="anchor" id="line-1218"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1219">1219</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1219"></span><span class="anchor" id="line-1219"></span>              Wave Duty: 00: 12.5% ( _--------_--------_-------- )</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1220">1220</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1220"></span><span class="anchor" id="line-1220"></span>                         01: 25%   ( __-------__-------__------- )</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1221">1221</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1221"></span><span class="anchor" id="line-1221"></span>                         10: 50%   ( ____-----____-----____----- ) (default)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1222">1222</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1222"></span><span class="anchor" id="line-1222"></span>                         11: 75%   ( ______---______---______--- )</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1223">1223</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1223"></span><span class="anchor" id="line-1223"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1224">1224</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1224"></span><span class="anchor" id="line-1224"></span>              Sound Length = (64-t1)*(1/256) seconds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1225">1225</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1225"></span><span class="anchor" id="line-1225"></span>FF12</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1226">1226</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1226"></span><span class="anchor" id="line-1226"></span>   Name     - NR 12 --- AUD1ENV</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1227">1227</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1227"></span><span class="anchor" id="line-1227"></span>   Contents - Sound Mode 1 register, Envelope (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1228">1228</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1228"></span><span class="anchor" id="line-1228"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1229">1229</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1229"></span><span class="anchor" id="line-1229"></span>              Bit 7-4 - Initial volume of envelope</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1230">1230</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1230"></span><span class="anchor" id="line-1230"></span>              Bit 3 -   Envelope UP/DOWN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1231">1231</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1231"></span><span class="anchor" id="line-1231"></span>                         0: Attenuate</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1232">1232</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1232"></span><span class="anchor" id="line-1232"></span>                         1: Amplify</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1233">1233</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1233"></span><span class="anchor" id="line-1233"></span>              Bit 2-0 - Number of envelope sweep (n: 0-7)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1234">1234</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1234"></span><span class="anchor" id="line-1234"></span>                        (If zero, stop envelope operation.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1235">1235</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1235"></span><span class="anchor" id="line-1235"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1236">1236</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1236"></span><span class="anchor" id="line-1236"></span>              Initial volume of envelope is from 0 to $F.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1237">1237</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1237"></span><span class="anchor" id="line-1237"></span>              Zero being no sound.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1238">1238</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1238"></span><span class="anchor" id="line-1238"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1239">1239</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1239"></span><span class="anchor" id="line-1239"></span>              Length of 1 step = n*(1/64) seconds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1240">1240</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1240"></span><span class="anchor" id="line-1240"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1241">1241</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1241"></span><span class="anchor" id="line-1241"></span>FF13</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1242">1242</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1242"></span><span class="anchor" id="line-1242"></span>   Name     - NR 13 --- AUD1LOW</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1243">1243</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1243"></span><span class="anchor" id="line-1243"></span>   Contents - Sound Mode 1 register, Frequency lo (W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1244">1244</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1244"></span><span class="anchor" id="line-1244"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1245">1245</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1245"></span><span class="anchor" id="line-1245"></span>              Lower 8 bits of 11 bit frequency (x).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1246">1246</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1246"></span><span class="anchor" id="line-1246"></span>              Next 3 bit are in NR 14 ($FF14)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1247">1247</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1247"></span><span class="anchor" id="line-1247"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1248">1248</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1248"></span><span class="anchor" id="line-1248"></span>FF14</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1249">1249</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1249"></span><span class="anchor" id="line-1249"></span>   Name     - NR 14 --- AUD1HIGH</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1250">1250</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1250"></span><span class="anchor" id="line-1250"></span>   Contents - Sound Mode 1 register, Frequency hi (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1251">1251</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1251"></span><span class="anchor" id="line-1251"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1252">1252</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1252"></span><span class="anchor" id="line-1252"></span>              Only Bit 6 can be read.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1253">1253</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1253"></span><span class="anchor" id="line-1253"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1254">1254</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1254"></span><span class="anchor" id="line-1254"></span>              Bit 7 - Initial (when set, sound restarts)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1255">1255</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1255"></span><span class="anchor" id="line-1255"></span>              Bit 6 - Counter/consecutive selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1256">1256</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1256"></span><span class="anchor" id="line-1256"></span>              Bit 2-0 - Frequency's higher 3 bits (x)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1257">1257</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1257"></span><span class="anchor" id="line-1257"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1258">1258</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1258"></span><span class="anchor" id="line-1258"></span>              Frequency = 4194304/(32*(2048-x)) Hz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1259">1259</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1259"></span><span class="anchor" id="line-1259"></span>                        = 131072/(2048-x) Hz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1260">1260</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1260"></span><span class="anchor" id="line-1260"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1261">1261</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1261"></span><span class="anchor" id="line-1261"></span>              Counter/consecutive Selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1262">1262</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1262"></span><span class="anchor" id="line-1262"></span>               0 = Regardless of the length data in NR11</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1263">1263</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1263"></span><span class="anchor" id="line-1263"></span>                   sound can be produced consecutively.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1264">1264</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1264"></span><span class="anchor" id="line-1264"></span>               1 = Sound is generated during the time period</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1265">1265</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1265"></span><span class="anchor" id="line-1265"></span>                   set by the length data in NR11. After this</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1266">1266</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1266"></span><span class="anchor" id="line-1266"></span>                   period the sound 1 ON flag (bit 0 of NR52)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1267">1267</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1267"></span><span class="anchor" id="line-1267"></span>                   is reset.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1268">1268</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1268"></span><span class="anchor" id="line-1268"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1269">1269</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1269"></span><span class="anchor" id="line-1269"></span>FF16</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1270">1270</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1270"></span><span class="anchor" id="line-1270"></span>   Name     - NR 21 --- AUD2LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1271">1271</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1271"></span><span class="anchor" id="line-1271"></span>   Contents - Sound Mode 2 register, Sound Length; Wave Pattern Duty (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1272">1272</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1272"></span><span class="anchor" id="line-1272"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1273">1273</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1273"></span><span class="anchor" id="line-1273"></span>              Only bits 7-6 can be read.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1274">1274</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1274"></span><span class="anchor" id="line-1274"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1275">1275</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1275"></span><span class="anchor" id="line-1275"></span>              Bit 7-6 - Wave pattern duty</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1276">1276</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1276"></span><span class="anchor" id="line-1276"></span>              Bit 5-0 - Sound length data (t1: 0-63)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1277">1277</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1277"></span><span class="anchor" id="line-1277"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1278">1278</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1278"></span><span class="anchor" id="line-1278"></span>              Wave Duty: 00: 12.5% ( _--------_--------_-------- )</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1279">1279</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1279"></span><span class="anchor" id="line-1279"></span>                         01: 25%   ( __-------__-------__------- )</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1280">1280</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1280"></span><span class="anchor" id="line-1280"></span>                         10: 50%   ( ____-----____-----____----- ) (default)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1281">1281</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1281"></span><span class="anchor" id="line-1281"></span>                         11: 75%   ( ______---______---______--- )</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1282">1282</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1282"></span><span class="anchor" id="line-1282"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1283">1283</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1283"></span><span class="anchor" id="line-1283"></span>              Sound Length = (64-t1)*(1/256) seconds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1284">1284</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1284"></span><span class="anchor" id="line-1284"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1285">1285</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1285"></span><span class="anchor" id="line-1285"></span>FF17</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1286">1286</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1286"></span><span class="anchor" id="line-1286"></span>   Name     - NR 22 --- AUD2ENV</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1287">1287</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1287"></span><span class="anchor" id="line-1287"></span>   Contents - Sound Mode 2 register, envelope (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1288">1288</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1288"></span><span class="anchor" id="line-1288"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1289">1289</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1289"></span><span class="anchor" id="line-1289"></span>              Bit 7-4 - Initial volume of envelope</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1290">1290</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1290"></span><span class="anchor" id="line-1290"></span>              Bit 3 -   Envelope UP/DOWN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1291">1291</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1291"></span><span class="anchor" id="line-1291"></span>                         0: Attenuate</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1292">1292</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1292"></span><span class="anchor" id="line-1292"></span>                         1: Amplify</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1293">1293</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1293"></span><span class="anchor" id="line-1293"></span>              Bit 2-0 - Number of envelope sweep (n: 0-7)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1294">1294</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1294"></span><span class="anchor" id="line-1294"></span>                        (If zero, stop envelope operation.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1295">1295</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1295"></span><span class="anchor" id="line-1295"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1296">1296</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1296"></span><span class="anchor" id="line-1296"></span>              Initial volume of envelope is from 0 to $F.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1297">1297</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1297"></span><span class="anchor" id="line-1297"></span>              Zero being no sound.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1298">1298</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1298"></span><span class="anchor" id="line-1298"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1299">1299</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1299"></span><span class="anchor" id="line-1299"></span>              Length of 1 step = n*(1/64) seconds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1300">1300</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1300"></span><span class="anchor" id="line-1300"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1301">1301</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1301"></span><span class="anchor" id="line-1301"></span>FF18</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1302">1302</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1302"></span><span class="anchor" id="line-1302"></span>   Name     - NR 23 --- AUD2LOW</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1303">1303</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1303"></span><span class="anchor" id="line-1303"></span>   Contents - Sound Mode 2 register, frequency lo data (W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1304">1304</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1304"></span><span class="anchor" id="line-1304"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1305">1305</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1305"></span><span class="anchor" id="line-1305"></span>              Frequency's lower 8 bits of 11 bit data (x).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1306">1306</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1306"></span><span class="anchor" id="line-1306"></span>              Next 3 bits are in NR 14 ($FF19).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1307">1307</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1307"></span><span class="anchor" id="line-1307"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1308">1308</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1308"></span><span class="anchor" id="line-1308"></span>FF19</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1309">1309</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1309"></span><span class="anchor" id="line-1309"></span>   Name     - NR 24 --- AUD2HIGH</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1310">1310</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1310"></span><span class="anchor" id="line-1310"></span>   Contents - Sound Mode 2 register, frequency hi data (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1311">1311</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1311"></span><span class="anchor" id="line-1311"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1312">1312</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1312"></span><span class="anchor" id="line-1312"></span>              Only bit 6 can be read.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1313">1313</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1313"></span><span class="anchor" id="line-1313"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1314">1314</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1314"></span><span class="anchor" id="line-1314"></span>              Bit 7 - Initial (when set, sound restarts)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1315">1315</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1315"></span><span class="anchor" id="line-1315"></span>              Bit 6 - Counter/consecutive selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1316">1316</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1316"></span><span class="anchor" id="line-1316"></span>              Bit 2-0 - Frequency's higher 3 bits (x)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1317">1317</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1317"></span><span class="anchor" id="line-1317"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1318">1318</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1318"></span><span class="anchor" id="line-1318"></span>              Frequency = 4194304/(32*(2048-x)) Hz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1319">1319</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1319"></span><span class="anchor" id="line-1319"></span>                        = 131072/(2048-x) Hz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1320">1320</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1320"></span><span class="anchor" id="line-1320"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1321">1321</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1321"></span><span class="anchor" id="line-1321"></span>              Counter/consecutive Selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1322">1322</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1322"></span><span class="anchor" id="line-1322"></span>               0 = Regardless of the length data in NR21</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1323">1323</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1323"></span><span class="anchor" id="line-1323"></span>                   sound can be produced consecutively.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1324">1324</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1324"></span><span class="anchor" id="line-1324"></span>               1 = Sound is generated during the time period</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1325">1325</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1325"></span><span class="anchor" id="line-1325"></span>                   set by the length data in NR21. After this</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1326">1326</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1326"></span><span class="anchor" id="line-1326"></span>                   period the sound 2 ON flag (bit 1 of NR52)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1327">1327</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1327"></span><span class="anchor" id="line-1327"></span>                   is reset.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1328">1328</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1328"></span><span class="anchor" id="line-1328"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1329">1329</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1329"></span><span class="anchor" id="line-1329"></span>FF1A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1330">1330</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1330"></span><span class="anchor" id="line-1330"></span>   Name     - NR 30 --- AUD3ENA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1331">1331</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1331"></span><span class="anchor" id="line-1331"></span>   Contents - Sound Mode 3 register, Sound on/off (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1332">1332</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1332"></span><span class="anchor" id="line-1332"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1333">1333</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1333"></span><span class="anchor" id="line-1333"></span>              Only bit 7 can be read</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1334">1334</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1334"></span><span class="anchor" id="line-1334"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1335">1335</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1335"></span><span class="anchor" id="line-1335"></span>              Bit 7 - Sound OFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1336">1336</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1336"></span><span class="anchor" id="line-1336"></span>                      0: Sound 3 output stop</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1337">1337</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1337"></span><span class="anchor" id="line-1337"></span>                      1: Sound 3 output OK</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1338">1338</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1338"></span><span class="anchor" id="line-1338"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1339">1339</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1339"></span><span class="anchor" id="line-1339"></span>FF1B</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1340">1340</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1340"></span><span class="anchor" id="line-1340"></span>   Name     - NR 31 --- AUD3LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1341">1341</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1341"></span><span class="anchor" id="line-1341"></span>   Contents - Sound Mode 3 register, sound length (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1342">1342</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1342"></span><span class="anchor" id="line-1342"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1343">1343</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1343"></span><span class="anchor" id="line-1343"></span>              Bit 7-0 - Sound length (t1: 0 - 255)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1344">1344</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1344"></span><span class="anchor" id="line-1344"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1345">1345</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1345"></span><span class="anchor" id="line-1345"></span>              Sound Length = (256-t1)*(1/2) seconds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1346">1346</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1346"></span><span class="anchor" id="line-1346"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1347">1347</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1347"></span><span class="anchor" id="line-1347"></span>FF1C</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1348">1348</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1348"></span><span class="anchor" id="line-1348"></span>   Name     - NR 32 --- AUD3LEVEL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1349">1349</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1349"></span><span class="anchor" id="line-1349"></span>   Contents - Sound Mode 3 register, Select output level (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1350">1350</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1350"></span><span class="anchor" id="line-1350"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1351">1351</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1351"></span><span class="anchor" id="line-1351"></span>              Only bits 6-5 can be read</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1352">1352</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1352"></span><span class="anchor" id="line-1352"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1353">1353</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1353"></span><span class="anchor" id="line-1353"></span>              Bit 6-5 - Select output level</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1354">1354</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1354"></span><span class="anchor" id="line-1354"></span>                        00: Mute</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1355">1355</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1355"></span><span class="anchor" id="line-1355"></span>                        01: Produce Wave Pattern RAM Data as it is</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1356">1356</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1356"></span><span class="anchor" id="line-1356"></span>                            (4 bit length)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1357">1357</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1357"></span><span class="anchor" id="line-1357"></span>                        10: Produce Wave Pattern RAM data shifted once</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1358">1358</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1358"></span><span class="anchor" id="line-1358"></span>                            to the RIGHT (1/2)  (4 bit length)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1359">1359</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1359"></span><span class="anchor" id="line-1359"></span>                        11: Produce Wave Pattern RAM data shifted twice</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1360">1360</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1360"></span><span class="anchor" id="line-1360"></span>                            to the RIGHT (1/4)  (4 bit length)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1361">1361</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1361"></span><span class="anchor" id="line-1361"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1362">1362</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1362"></span><span class="anchor" id="line-1362"></span>       * - Wave Pattern RAM is located from $FF30-$FF3f.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1363">1363</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1363"></span><span class="anchor" id="line-1363"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1364">1364</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1364"></span><span class="anchor" id="line-1364"></span>FF1D</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1365">1365</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1365"></span><span class="anchor" id="line-1365"></span>   Name     - NR 33 --- AUD3LOW</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1366">1366</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1366"></span><span class="anchor" id="line-1366"></span>   Contents - Sound Mode 3 register, frequency's lower data (W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1367">1367</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1367"></span><span class="anchor" id="line-1367"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1368">1368</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1368"></span><span class="anchor" id="line-1368"></span>              Lower 8 bits of an 11 bit frequency (x).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1369">1369</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1369"></span><span class="anchor" id="line-1369"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1370">1370</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1370"></span><span class="anchor" id="line-1370"></span>FF1E</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1371">1371</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1371"></span><span class="anchor" id="line-1371"></span>   Name     - NR 34 --- AUD3HIGH</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1372">1372</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1372"></span><span class="anchor" id="line-1372"></span>   Contents - Sound Mode 3 register, frequency's higher data (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1373">1373</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1373"></span><span class="anchor" id="line-1373"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1374">1374</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1374"></span><span class="anchor" id="line-1374"></span>              Only bit 6 can be read.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1375">1375</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1375"></span><span class="anchor" id="line-1375"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1376">1376</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1376"></span><span class="anchor" id="line-1376"></span>              Bit 7 - Initial (when set, sound restarts)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1377">1377</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1377"></span><span class="anchor" id="line-1377"></span>              Bit 6 - Counter/consecutive flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1378">1378</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1378"></span><span class="anchor" id="line-1378"></span>              Bit 2-0 - Frequency's higher 3 bits (x).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1379">1379</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1379"></span><span class="anchor" id="line-1379"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1380">1380</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1380"></span><span class="anchor" id="line-1380"></span>              Frequency = 4194304/(64*(2048-x)) Hz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1381">1381</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1381"></span><span class="anchor" id="line-1381"></span>                        = 65536/(2048-x) Hz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1382">1382</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1382"></span><span class="anchor" id="line-1382"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1383">1383</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1383"></span><span class="anchor" id="line-1383"></span>              Counter/consecutive Selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1384">1384</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1384"></span><span class="anchor" id="line-1384"></span>               0 = Regardless of the length data in NR31</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1385">1385</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1385"></span><span class="anchor" id="line-1385"></span>                   sound can be produced consecutively.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1386">1386</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1386"></span><span class="anchor" id="line-1386"></span>               1 = Sound is generated during the time period</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1387">1387</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1387"></span><span class="anchor" id="line-1387"></span>                   set by the length data in NR31. After this</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1388">1388</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1388"></span><span class="anchor" id="line-1388"></span>                   period the sound 3 ON flag (bit 2 of NR52)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1389">1389</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1389"></span><span class="anchor" id="line-1389"></span>                   is reset.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1390">1390</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1390"></span><span class="anchor" id="line-1390"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1391">1391</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1391"></span><span class="anchor" id="line-1391"></span>FF20</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1392">1392</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1392"></span><span class="anchor" id="line-1392"></span>   Name     - NR 41 --- AUD4LEN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1393">1393</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1393"></span><span class="anchor" id="line-1393"></span>   Contents - Sound Mode 4 register, sound length (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1394">1394</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1394"></span><span class="anchor" id="line-1394"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1395">1395</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1395"></span><span class="anchor" id="line-1395"></span>              Bit 5-0 - Sound length data (t1: 0-63)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1396">1396</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1396"></span><span class="anchor" id="line-1396"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1397">1397</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1397"></span><span class="anchor" id="line-1397"></span>              Sound Length = (64-t1)*(1/256) seconds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1398">1398</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1398"></span><span class="anchor" id="line-1398"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1399">1399</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1399"></span><span class="anchor" id="line-1399"></span>FF21</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1400">1400</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1400"></span><span class="anchor" id="line-1400"></span>   Name     - NR 42 --- AUD4ENV</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1401">1401</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1401"></span><span class="anchor" id="line-1401"></span>   Contents - Sound Mode 4 register, envelope (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1402">1402</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1402"></span><span class="anchor" id="line-1402"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1403">1403</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1403"></span><span class="anchor" id="line-1403"></span>              Bit 7-4 - Initial volume of envelope</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1404">1404</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1404"></span><span class="anchor" id="line-1404"></span>              Bit 3 -   Envelope UP/DOWN</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1405">1405</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1405"></span><span class="anchor" id="line-1405"></span>                         0: Attenuate</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1406">1406</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1406"></span><span class="anchor" id="line-1406"></span>                         1: Amplify</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1407">1407</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1407"></span><span class="anchor" id="line-1407"></span>              Bit 2-0 - Number of envelope sweep (n: 0-7)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1408">1408</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1408"></span><span class="anchor" id="line-1408"></span>                        (If zero, stop envelope operation.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1409">1409</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1409"></span><span class="anchor" id="line-1409"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1410">1410</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1410"></span><span class="anchor" id="line-1410"></span>              Initial volume of envelope is from 0 to $F.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1411">1411</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1411"></span><span class="anchor" id="line-1411"></span>              Zero being no sound.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1412">1412</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1412"></span><span class="anchor" id="line-1412"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1413">1413</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1413"></span><span class="anchor" id="line-1413"></span>              Length of 1 step = n*(1/64) seconds</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1414">1414</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1414"></span><span class="anchor" id="line-1414"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1415">1415</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1415"></span><span class="anchor" id="line-1415"></span>FF22</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1416">1416</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1416"></span><span class="anchor" id="line-1416"></span>   Name     - NR 43 --- AUD4POLY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1417">1417</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1417"></span><span class="anchor" id="line-1417"></span>   Contents - Sound Mode 4 register, polynomial counter (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1418">1418</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1418"></span><span class="anchor" id="line-1418"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1419">1419</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1419"></span><span class="anchor" id="line-1419"></span>              Bit 7-4 - Selection of the shift clock frequency of the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1420">1420</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1420"></span><span class="anchor" id="line-1420"></span>                        polynomial counter</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1421">1421</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1421"></span><span class="anchor" id="line-1421"></span>              Bit 3   - Selection of the polynomial counter's step</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1422">1422</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1422"></span><span class="anchor" id="line-1422"></span>              Bit 2-0 - Selection of the dividing ratio of frequencies</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1423">1423</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1423"></span><span class="anchor" id="line-1423"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1424">1424</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1424"></span><span class="anchor" id="line-1424"></span>              Selection of the dividing ratio of frequencies:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1425">1425</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1425"></span><span class="anchor" id="line-1425"></span>              000: f * 1/2^3 * 2</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1426">1426</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1426"></span><span class="anchor" id="line-1426"></span>              001: f * 1/2^3 * 1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1427">1427</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1427"></span><span class="anchor" id="line-1427"></span>              010: f * 1/2^3 * 1/2</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1428">1428</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1428"></span><span class="anchor" id="line-1428"></span>              011: f * 1/2^3 * 1/3</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1429">1429</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1429"></span><span class="anchor" id="line-1429"></span>              100: f * 1/2^3 * 1/4</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1430">1430</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1430"></span><span class="anchor" id="line-1430"></span>              101: f * 1/2^3 * 1/5</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1431">1431</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1431"></span><span class="anchor" id="line-1431"></span>              110: f * 1/2^3 * 1/6</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1432">1432</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1432"></span><span class="anchor" id="line-1432"></span>              111: f * 1/2^3 * 1/7           f = 4.194304 Mhz</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1433">1433</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1433"></span><span class="anchor" id="line-1433"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1434">1434</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1434"></span><span class="anchor" id="line-1434"></span>              Selection of the polynomial counter step:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1435">1435</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1435"></span><span class="anchor" id="line-1435"></span>              0: 15 steps</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1436">1436</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1436"></span><span class="anchor" id="line-1436"></span>              1: 7 steps</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1437">1437</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1437"></span><span class="anchor" id="line-1437"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1438">1438</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1438"></span><span class="anchor" id="line-1438"></span>              Selection of the shift clock frequency of the polynomial</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1439">1439</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1439"></span><span class="anchor" id="line-1439"></span>              counter:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1440">1440</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1440"></span><span class="anchor" id="line-1440"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1441">1441</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1441"></span><span class="anchor" id="line-1441"></span>              0000: dividing ratio of frequencies * 1/2</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1442">1442</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1442"></span><span class="anchor" id="line-1442"></span>              0001: dividing ratio of frequencies * 1/2^2</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1443">1443</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1443"></span><span class="anchor" id="line-1443"></span>              0010: dividing ratio of frequencies * 1/2^3</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1444">1444</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1444"></span><span class="anchor" id="line-1444"></span>              0011: dividing ratio of frequencies * 1/2^4</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1445">1445</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1445"></span><span class="anchor" id="line-1445"></span>                    :                          :</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1446">1446</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1446"></span><span class="anchor" id="line-1446"></span>                    :                          :</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1447">1447</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1447"></span><span class="anchor" id="line-1447"></span>                    :                          :</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1448">1448</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1448"></span><span class="anchor" id="line-1448"></span>              0101: dividing ratio of frequencies * 1/2^14</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1449">1449</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1449"></span><span class="anchor" id="line-1449"></span>              1110: prohibited code</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1450">1450</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1450"></span><span class="anchor" id="line-1450"></span>              1111: prohibited code</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1451">1451</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1451"></span><span class="anchor" id="line-1451"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1452">1452</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1452"></span><span class="anchor" id="line-1452"></span>FF23</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1453">1453</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1453"></span><span class="anchor" id="line-1453"></span>   Name     - NR 44 --- AUD4GO</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1454">1454</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1454"></span><span class="anchor" id="line-1454"></span>   Contents - Sound Mode 4 register, counter/consecutive; inital (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1455">1455</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1455"></span><span class="anchor" id="line-1455"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1456">1456</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1456"></span><span class="anchor" id="line-1456"></span>              Only bit 6 can be read.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1457">1457</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1457"></span><span class="anchor" id="line-1457"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1458">1458</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1458"></span><span class="anchor" id="line-1458"></span>              Bit 7 - Initial (when set, sound restarts)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1459">1459</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1459"></span><span class="anchor" id="line-1459"></span>              Bit 6 - Counter/consecutive selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1460">1460</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1460"></span><span class="anchor" id="line-1460"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1461">1461</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1461"></span><span class="anchor" id="line-1461"></span>              Counter/consecutive Selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1462">1462</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1462"></span><span class="anchor" id="line-1462"></span>               0 = Regardless of the length data in NR41</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1463">1463</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1463"></span><span class="anchor" id="line-1463"></span>                   sound can be produced consecutively.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1464">1464</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1464"></span><span class="anchor" id="line-1464"></span>               1 = Sound is generated during the time period</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1465">1465</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1465"></span><span class="anchor" id="line-1465"></span>                   set by the length data in NR41. After this</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1466">1466</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1466"></span><span class="anchor" id="line-1466"></span>                   period the sound 4 ON flag (bit 3 of NR52)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1467">1467</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1467"></span><span class="anchor" id="line-1467"></span>                   is reset.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1468">1468</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1468"></span><span class="anchor" id="line-1468"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1469">1469</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1469"></span><span class="anchor" id="line-1469"></span>FF24</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1470">1470</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1470"></span><span class="anchor" id="line-1470"></span>   Name     - NR 50 --- AUDVOL</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1471">1471</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1471"></span><span class="anchor" id="line-1471"></span>   Contents - Channel control / ON-OFF / Volume (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1472">1472</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1472"></span><span class="anchor" id="line-1472"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1473">1473</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1473"></span><span class="anchor" id="line-1473"></span>              Bit 7 - Vin-&gt;SO2 ON/OFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1474">1474</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1474"></span><span class="anchor" id="line-1474"></span>              Bit 6-4 - SO2 output level (volume) (# 0-7)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1475">1475</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1475"></span><span class="anchor" id="line-1475"></span>              Bit 3 - Vin-&gt;SO1 ON/OFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1476">1476</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1476"></span><span class="anchor" id="line-1476"></span>              Bit 2-0 - SO1 output level (volume) (# 0-7)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1477">1477</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1477"></span><span class="anchor" id="line-1477"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1478">1478</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1478"></span><span class="anchor" id="line-1478"></span>              Vin-&gt;SO1 (Vin-&gt;SO2)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1479">1479</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1479"></span><span class="anchor" id="line-1479"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1480">1480</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1480"></span><span class="anchor" id="line-1480"></span>              By synthesizing the sound from sound 1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1481">1481</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1481"></span><span class="anchor" id="line-1481"></span>              through 4, the voice input from Vin</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1482">1482</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1482"></span><span class="anchor" id="line-1482"></span>              terminal is put out.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1483">1483</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1483"></span><span class="anchor" id="line-1483"></span>              0: no output</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1484">1484</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1484"></span><span class="anchor" id="line-1484"></span>              1: output OK</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1485">1485</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1485"></span><span class="anchor" id="line-1485"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1486">1486</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1486"></span><span class="anchor" id="line-1486"></span>FF25</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1487">1487</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1487"></span><span class="anchor" id="line-1487"></span>    Name     - NR 51 --- AUDTERM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1488">1488</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1488"></span><span class="anchor" id="line-1488"></span>    Contents - Selection of Sound output terminal (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1489">1489</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1489"></span><span class="anchor" id="line-1489"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1490">1490</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1490"></span><span class="anchor" id="line-1490"></span>               Bit 7 - Output sound 4 to SO2 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1491">1491</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1491"></span><span class="anchor" id="line-1491"></span>               Bit 6 - Output sound 3 to SO2 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1492">1492</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1492"></span><span class="anchor" id="line-1492"></span>               Bit 5 - Output sound 2 to SO2 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1493">1493</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1493"></span><span class="anchor" id="line-1493"></span>               Bit 4 - Output sound 1 to SO2 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1494">1494</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1494"></span><span class="anchor" id="line-1494"></span>               Bit 3 - Output sound 4 to SO1 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1495">1495</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1495"></span><span class="anchor" id="line-1495"></span>               Bit 2 - Output sound 3 to SO1 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1496">1496</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1496"></span><span class="anchor" id="line-1496"></span>               Bit 1 - Output sound 2 to SO1 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1497">1497</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1497"></span><span class="anchor" id="line-1497"></span>               Bit 0 - Output sound 1 to SO1 terminal</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1498">1498</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1498"></span><span class="anchor" id="line-1498"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1499">1499</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1499"></span><span class="anchor" id="line-1499"></span>FF26</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1500">1500</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1500"></span><span class="anchor" id="line-1500"></span>    Name     - NR 52  --- AUDENA (Value at reset: $F1-GB, $F0-SGB)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1501">1501</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1501"></span><span class="anchor" id="line-1501"></span>    Contents - Sound on/off (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1502">1502</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1502"></span><span class="anchor" id="line-1502"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1503">1503</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1503"></span><span class="anchor" id="line-1503"></span>               Bit 7 - All sound on/off</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1504">1504</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1504"></span><span class="anchor" id="line-1504"></span>                       0: stop all sound circuits</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1505">1505</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1505"></span><span class="anchor" id="line-1505"></span>                       1: operate all sound circuits</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1506">1506</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1506"></span><span class="anchor" id="line-1506"></span>               Bit 3 - Sound 4 ON flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1507">1507</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1507"></span><span class="anchor" id="line-1507"></span>               Bit 2 - Sound 3 ON flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1508">1508</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1508"></span><span class="anchor" id="line-1508"></span>               Bit 1 - Sound 2 ON flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1509">1509</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1509"></span><span class="anchor" id="line-1509"></span>               Bit 0 - Sound 1 ON flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1510">1510</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1510"></span><span class="anchor" id="line-1510"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1511">1511</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1511"></span><span class="anchor" id="line-1511"></span>                Bits 0 - 3 of this register are meant to</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1512">1512</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1512"></span><span class="anchor" id="line-1512"></span>               be status bits to be read. Writing to these</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1513">1513</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1513"></span><span class="anchor" id="line-1513"></span>               bits does NOT enable/disable sound.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1514">1514</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1514"></span><span class="anchor" id="line-1514"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1515">1515</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1515"></span><span class="anchor" id="line-1515"></span>                If your GB programs don't use sound then</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1516">1516</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1516"></span><span class="anchor" id="line-1516"></span>               write $00 to this register to save 16% or</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1517">1517</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1517"></span><span class="anchor" id="line-1517"></span>               more on GB power consumption.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1518">1518</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1518"></span><span class="anchor" id="line-1518"></span>FF30 - FF3F</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1519">1519</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1519"></span><span class="anchor" id="line-1519"></span>   Name     - Wave Pattern RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1520">1520</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1520"></span><span class="anchor" id="line-1520"></span>   Contents - Waveform storage for arbitrary sound data</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1521">1521</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1521"></span><span class="anchor" id="line-1521"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1522">1522</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1522"></span><span class="anchor" id="line-1522"></span>              This storage area holds 32 4-bit samples</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1523">1523</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1523"></span><span class="anchor" id="line-1523"></span>              that are played back upper 4 bits first.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1524">1524</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1524"></span><span class="anchor" id="line-1524"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1525">1525</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1525"></span><span class="anchor" id="line-1525"></span>FF40</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1526">1526</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1526"></span><span class="anchor" id="line-1526"></span>   Name     - LCDC  (value $91 at reset)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1527">1527</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1527"></span><span class="anchor" id="line-1527"></span>   Contents - LCD Control (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1528">1528</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1528"></span><span class="anchor" id="line-1528"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1529">1529</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1529"></span><span class="anchor" id="line-1529"></span>              Bit 7 - LCD Control Operation *</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1530">1530</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1530"></span><span class="anchor" id="line-1530"></span>                      0: Stop completely (no picture on screen)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1531">1531</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1531"></span><span class="anchor" id="line-1531"></span>                      1: operation</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1532">1532</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1532"></span><span class="anchor" id="line-1532"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1533">1533</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1533"></span><span class="anchor" id="line-1533"></span>              Bit 6 - Window Tile Map Display Select</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1534">1534</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1534"></span><span class="anchor" id="line-1534"></span>                      0: $9800-$9BFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1535">1535</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1535"></span><span class="anchor" id="line-1535"></span>                      1: $9C00-$9FFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1536">1536</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1536"></span><span class="anchor" id="line-1536"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1537">1537</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1537"></span><span class="anchor" id="line-1537"></span>              Bit 5 - Window Display</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1538">1538</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1538"></span><span class="anchor" id="line-1538"></span>                      0: off</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1539">1539</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1539"></span><span class="anchor" id="line-1539"></span>                      1: on</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1540">1540</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1540"></span><span class="anchor" id="line-1540"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1541">1541</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1541"></span><span class="anchor" id="line-1541"></span>              Bit 4 - BG &amp; Window Tile Data Select</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1542">1542</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1542"></span><span class="anchor" id="line-1542"></span>                      0: $8800-$97FF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1543">1543</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1543"></span><span class="anchor" id="line-1543"></span>                      1: $8000-$8FFF &lt;- Same area as OBJ</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1544">1544</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1544"></span><span class="anchor" id="line-1544"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1545">1545</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1545"></span><span class="anchor" id="line-1545"></span>              Bit 3 - BG Tile Map Display Select</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1546">1546</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1546"></span><span class="anchor" id="line-1546"></span>                      0: $9800-$9BFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1547">1547</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1547"></span><span class="anchor" id="line-1547"></span>                      1: $9C00-$9FFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1548">1548</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1548"></span><span class="anchor" id="line-1548"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1549">1549</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1549"></span><span class="anchor" id="line-1549"></span>              Bit 2 - OBJ (Sprite) Size</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1550">1550</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1550"></span><span class="anchor" id="line-1550"></span>                      0: 8*8</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1551">1551</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1551"></span><span class="anchor" id="line-1551"></span>                      1: 8*16 (width*height)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1552">1552</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1552"></span><span class="anchor" id="line-1552"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1553">1553</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1553"></span><span class="anchor" id="line-1553"></span>              Bit 1 - OBJ (Sprite) Display</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1554">1554</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1554"></span><span class="anchor" id="line-1554"></span>                      0: off</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1555">1555</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1555"></span><span class="anchor" id="line-1555"></span>                      1: on</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1556">1556</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1556"></span><span class="anchor" id="line-1556"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1557">1557</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1557"></span><span class="anchor" id="line-1557"></span>              Bit 0 - BG &amp; Window Display</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1558">1558</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1558"></span><span class="anchor" id="line-1558"></span>                      0: off</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1559">1559</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1559"></span><span class="anchor" id="line-1559"></span>                      1: on</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1560">1560</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1560"></span><span class="anchor" id="line-1560"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1561">1561</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1561"></span><span class="anchor" id="line-1561"></span>       * - Stopping LCD operation (bit 7 from 1 to 0)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1562">1562</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1562"></span><span class="anchor" id="line-1562"></span>           must be performed during V-blank to work</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1563">1563</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1563"></span><span class="anchor" id="line-1563"></span>           properly. V-blank can be confirmed when the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1564">1564</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1564"></span><span class="anchor" id="line-1564"></span>           value of LY is greater than or equal to 144.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1565">1565</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1565"></span><span class="anchor" id="line-1565"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1566">1566</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1566"></span><span class="anchor" id="line-1566"></span>FF41</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1567">1567</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1567"></span><span class="anchor" id="line-1567"></span>   Name     - STAT</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1568">1568</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1568"></span><span class="anchor" id="line-1568"></span>   Contents - LCDC Status   (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1569">1569</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1569"></span><span class="anchor" id="line-1569"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1570">1570</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1570"></span><span class="anchor" id="line-1570"></span>              Bits 6-3 - Interrupt Selection By LCDC Status</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1571">1571</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1571"></span><span class="anchor" id="line-1571"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1572">1572</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1572"></span><span class="anchor" id="line-1572"></span>              Bit 6 - LYC=LY Coincidence (Selectable)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1573">1573</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1573"></span><span class="anchor" id="line-1573"></span>              Bit 5 - Mode 10</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1574">1574</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1574"></span><span class="anchor" id="line-1574"></span>              Bit 4 - Mode 01</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1575">1575</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1575"></span><span class="anchor" id="line-1575"></span>              Bit 3 - Mode 00</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1576">1576</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1576"></span><span class="anchor" id="line-1576"></span>                      0: Non Selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1577">1577</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1577"></span><span class="anchor" id="line-1577"></span>                      1: Selection</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1578">1578</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1578"></span><span class="anchor" id="line-1578"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1579">1579</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1579"></span><span class="anchor" id="line-1579"></span>              Bit 2 - Coincidence Flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1580">1580</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1580"></span><span class="anchor" id="line-1580"></span>                      0: LYC not equal to LCDC LY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1581">1581</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1581"></span><span class="anchor" id="line-1581"></span>                      1: LYC = LCDC LY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1582">1582</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1582"></span><span class="anchor" id="line-1582"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1583">1583</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1583"></span><span class="anchor" id="line-1583"></span>              Bit 1-0 - Mode Flag</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1584">1584</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1584"></span><span class="anchor" id="line-1584"></span>                        00: During H-Blank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1585">1585</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1585"></span><span class="anchor" id="line-1585"></span>                        01: During V-Blank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1586">1586</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1586"></span><span class="anchor" id="line-1586"></span>                        10: During Searching OAM-RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1587">1587</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1587"></span><span class="anchor" id="line-1587"></span>                        11: During Transfering Data to LCD Driver</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1588">1588</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1588"></span><span class="anchor" id="line-1588"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1589">1589</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1589"></span><span class="anchor" id="line-1589"></span>     STAT shows the current status of the LCD controller.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1590">1590</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1590"></span><span class="anchor" id="line-1590"></span>     Mode 00: When the flag is 00 it is the H-Blank period</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1591">1591</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1591"></span><span class="anchor" id="line-1591"></span>              and the CPU can access the display RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1592">1592</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1592"></span><span class="anchor" id="line-1592"></span>              ($8000-$9FFF).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1593">1593</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1593"></span><span class="anchor" id="line-1593"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1594">1594</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1594"></span><span class="anchor" id="line-1594"></span>     Mode 01: When the flag is 01 it is the V-Blank period</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1595">1595</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1595"></span><span class="anchor" id="line-1595"></span>              and the CPU can access the display RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1596">1596</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1596"></span><span class="anchor" id="line-1596"></span>              ($8000-$9FFF).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1597">1597</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1597"></span><span class="anchor" id="line-1597"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1598">1598</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1598"></span><span class="anchor" id="line-1598"></span>     Mode 10: When the flag is 10 then the OAM is being</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1599">1599</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1599"></span><span class="anchor" id="line-1599"></span>              used ($FE00-$FE9F). The CPU cannot access</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1600">1600</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1600"></span><span class="anchor" id="line-1600"></span>              the OAM during this period</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1601">1601</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1601"></span><span class="anchor" id="line-1601"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1602">1602</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1602"></span><span class="anchor" id="line-1602"></span>     Mode 11: When the flag is 11 both the OAM and display</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1603">1603</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1603"></span><span class="anchor" id="line-1603"></span>              RAM are being used. The CPU cannot access</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1604">1604</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1604"></span><span class="anchor" id="line-1604"></span>              either during this period.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1605">1605</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1605"></span><span class="anchor" id="line-1605"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1606">1606</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1606"></span><span class="anchor" id="line-1606"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1607">1607</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1607"></span><span class="anchor" id="line-1607"></span>     The following are typical when the display is enabled:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1608">1608</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1608"></span><span class="anchor" id="line-1608"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1609">1609</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1609"></span><span class="anchor" id="line-1609"></span>Mode 0  000___000___000___000___000___000___000________________</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1610">1610</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1610"></span><span class="anchor" id="line-1610"></span>Mode 1  _______________________________________11111111111111__</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1611">1611</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1611"></span><span class="anchor" id="line-1611"></span>Mode 2  ___2_____2_____2_____2_____2_____2___________________2_</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1612">1612</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1612"></span><span class="anchor" id="line-1612"></span>Mode 3  ____33____33____33____33____33____33__________________3</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1613">1613</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1613"></span><span class="anchor" id="line-1613"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1614">1614</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1614"></span><span class="anchor" id="line-1614"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1615">1615</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1615"></span><span class="anchor" id="line-1615"></span>       The Mode Flag goes through the values 0, 2,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1616">1616</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1616"></span><span class="anchor" id="line-1616"></span>      and 3 at a cycle of about 109uS. 0 is present</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1617">1617</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1617"></span><span class="anchor" id="line-1617"></span>      about 48.6uS, 2 about 19uS, and 3 about 41uS. This</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1618">1618</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1618"></span><span class="anchor" id="line-1618"></span>      is interrupted every 16.6ms by the VBlank (1).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1619">1619</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1619"></span><span class="anchor" id="line-1619"></span>      The mode flag stays set at 1 for about 1.08 ms.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1620">1620</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1620"></span><span class="anchor" id="line-1620"></span>      (Mode 0 is present between 201-207 clks, 2 about</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1621">1621</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1621"></span><span class="anchor" id="line-1621"></span>       77-83 clks, and 3 about 169-175 clks. A complete</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1622">1622</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1622"></span><span class="anchor" id="line-1622"></span>       cycle through these states takes 456 clks.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1623">1623</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1623"></span><span class="anchor" id="line-1623"></span>       VBlank lasts 4560 clks. A complete screen refresh</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1624">1624</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1624"></span><span class="anchor" id="line-1624"></span>       occurs every 70224 clks.)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1625">1625</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1625"></span><span class="anchor" id="line-1625"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1626">1626</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1626"></span><span class="anchor" id="line-1626"></span>FF42</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1627">1627</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1627"></span><span class="anchor" id="line-1627"></span>   Name     - SCY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1628">1628</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1628"></span><span class="anchor" id="line-1628"></span>   Contents - Scroll Y   (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1629">1629</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1629"></span><span class="anchor" id="line-1629"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1630">1630</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1630"></span><span class="anchor" id="line-1630"></span>              8 Bit value $00-$FF to scroll BG Y screen</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1631">1631</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1631"></span><span class="anchor" id="line-1631"></span>              position.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1632">1632</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1632"></span><span class="anchor" id="line-1632"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1633">1633</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1633"></span><span class="anchor" id="line-1633"></span>FF43</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1634">1634</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1634"></span><span class="anchor" id="line-1634"></span>   Name     - SCX</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1635">1635</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1635"></span><span class="anchor" id="line-1635"></span>   Contents - Scroll X   (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1636">1636</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1636"></span><span class="anchor" id="line-1636"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1637">1637</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1637"></span><span class="anchor" id="line-1637"></span>              8 Bit value $00-$FF to scroll BG X screen</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1638">1638</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1638"></span><span class="anchor" id="line-1638"></span>              position.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1639">1639</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1639"></span><span class="anchor" id="line-1639"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1640">1640</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1640"></span><span class="anchor" id="line-1640"></span>FF44</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1641">1641</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1641"></span><span class="anchor" id="line-1641"></span>   Name     - LY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1642">1642</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1642"></span><span class="anchor" id="line-1642"></span>   Contents - LCDC Y-Coordinate (R)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1643">1643</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1643"></span><span class="anchor" id="line-1643"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1644">1644</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1644"></span><span class="anchor" id="line-1644"></span>            The LY indicates the vertical line to which</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1645">1645</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1645"></span><span class="anchor" id="line-1645"></span>            the present data is transferred to the LCD</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1646">1646</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1646"></span><span class="anchor" id="line-1646"></span>            Driver. The LY can take on any value between</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1647">1647</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1647"></span><span class="anchor" id="line-1647"></span>            0 through 153. The values between 144 and 153</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1648">1648</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1648"></span><span class="anchor" id="line-1648"></span>            indicate the V-Blank period. Writing will</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1649">1649</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1649"></span><span class="anchor" id="line-1649"></span>            reset the counter.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1650">1650</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1650"></span><span class="anchor" id="line-1650"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1651">1651</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1651"></span><span class="anchor" id="line-1651"></span>FF45</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1652">1652</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1652"></span><span class="anchor" id="line-1652"></span>   Name     - LYC</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1653">1653</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1653"></span><span class="anchor" id="line-1653"></span>   Contents - LY Compare  (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1654">1654</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1654"></span><span class="anchor" id="line-1654"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1655">1655</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1655"></span><span class="anchor" id="line-1655"></span>            The LYC compares itself with the LY. If the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1656">1656</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1656"></span><span class="anchor" id="line-1656"></span>            values are the same it causes the STAT to set</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1657">1657</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1657"></span><span class="anchor" id="line-1657"></span>            the coincident flag.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1658">1658</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1658"></span><span class="anchor" id="line-1658"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1659">1659</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1659"></span><span class="anchor" id="line-1659"></span>FF46</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1660">1660</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1660"></span><span class="anchor" id="line-1660"></span>   Name     - DMA</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1661">1661</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1661"></span><span class="anchor" id="line-1661"></span>   Contents - DMA Transfer and Start Address (W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1662">1662</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1662"></span><span class="anchor" id="line-1662"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1663">1663</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1663"></span><span class="anchor" id="line-1663"></span>   The DMA Transfer (40*28 bit) from internal ROM or RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1664">1664</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1664"></span><span class="anchor" id="line-1664"></span>   ($0000-$F19F) to the OAM (address $FE00-$FE9F) can be</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1665">1665</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1665"></span><span class="anchor" id="line-1665"></span>   performed. It takes 160 microseconds for the transfer.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1666">1666</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1666"></span><span class="anchor" id="line-1666"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1667">1667</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1667"></span><span class="anchor" id="line-1667"></span>   40*28 bit = #140  or #$8C.  As you can see, it only</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1668">1668</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1668"></span><span class="anchor" id="line-1668"></span>   transfers $8C bytes of data. OAM data is $A0 bytes</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1669">1669</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1669"></span><span class="anchor" id="line-1669"></span>   long, from $0-$9F.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1670">1670</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1670"></span><span class="anchor" id="line-1670"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1671">1671</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1671"></span><span class="anchor" id="line-1671"></span>   But if you examine the OAM data you see that 4 bits are</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1672">1672</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1672"></span><span class="anchor" id="line-1672"></span>   not in use.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1673">1673</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1673"></span><span class="anchor" id="line-1673"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1674">1674</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1674"></span><span class="anchor" id="line-1674"></span>   40*32 bit = #$A0, but since 4 bits for each OAM is not</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1675">1675</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1675"></span><span class="anchor" id="line-1675"></span>   used it's 40*28 bit.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1676">1676</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1676"></span><span class="anchor" id="line-1676"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1677">1677</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1677"></span><span class="anchor" id="line-1677"></span>   It transfers all the OAM data to OAM RAM.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1678">1678</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1678"></span><span class="anchor" id="line-1678"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1679">1679</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1679"></span><span class="anchor" id="line-1679"></span>   The DMA transfer start address can be designated every</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1680">1680</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1680"></span><span class="anchor" id="line-1680"></span>   $100 from address $0000-$F100. That means $0000, $0100,</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1681">1681</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1681"></span><span class="anchor" id="line-1681"></span>   $0200, $0300....</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1682">1682</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1682"></span><span class="anchor" id="line-1682"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1683">1683</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1683"></span><span class="anchor" id="line-1683"></span>    As can be seen by looking at register $FF41 Sprite RAM</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1684">1684</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1684"></span><span class="anchor" id="line-1684"></span>   ($FE00 - $FE9F) is not always available. A simple routine</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1685">1685</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1685"></span><span class="anchor" id="line-1685"></span>   that many games use to write data to Sprite memory is shown</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1686">1686</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1686"></span><span class="anchor" id="line-1686"></span>   below. Since it copies data to the sprite RAM at the appro-</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1687">1687</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1687"></span><span class="anchor" id="line-1687"></span>   priate times it removes that responsibility from the main</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1688">1688</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1688"></span><span class="anchor" id="line-1688"></span>   program.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1689">1689</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1689"></span><span class="anchor" id="line-1689"></span>    All of the memory space, except high ram ($FF80-$FFFE),</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1690">1690</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1690"></span><span class="anchor" id="line-1690"></span>   is not accessible during DMA. Because of this, the routine</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1691">1691</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1691"></span><span class="anchor" id="line-1691"></span>   below must be copied &amp; executed in high ram. It is usually</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1692">1692</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1692"></span><span class="anchor" id="line-1692"></span>   called from a V-blank Interrupt.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1693">1693</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1693"></span><span class="anchor" id="line-1693"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1694">1694</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1694"></span><span class="anchor" id="line-1694"></span>   Example program:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1695">1695</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1695"></span><span class="anchor" id="line-1695"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1696">1696</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1696"></span><span class="anchor" id="line-1696"></span>      org $40</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1697">1697</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1697"></span><span class="anchor" id="line-1697"></span>      jp VBlank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1698">1698</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1698"></span><span class="anchor" id="line-1698"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1699">1699</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1699"></span><span class="anchor" id="line-1699"></span>      org $ff80</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1700">1700</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1700"></span><span class="anchor" id="line-1700"></span>VBlank:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1701">1701</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1701"></span><span class="anchor" id="line-1701"></span>      push af        &lt;- Save A reg &amp; flags</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1702">1702</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1702"></span><span class="anchor" id="line-1702"></span>      ld a,BASE_ADRS &lt;- transfer data from BASE_ADRS</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1703">1703</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1703"></span><span class="anchor" id="line-1703"></span>      ld ($ff46),a   &lt;- put A into DMA registers</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1704">1704</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1704"></span><span class="anchor" id="line-1704"></span>      ld a,28h       &lt;- loop length</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1705">1705</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1705"></span><span class="anchor" id="line-1705"></span>Wait:                &lt;- We need to wait 160 microseconds.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1706">1706</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1706"></span><span class="anchor" id="line-1706"></span>      dec a          &lt;-  4 cycles - decrease A by 1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1707">1707</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1707"></span><span class="anchor" id="line-1707"></span>      jr nz,Wait     &lt;- 12 cycles - branch if Not Zero to Wait</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1708">1708</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1708"></span><span class="anchor" id="line-1708"></span>      pop af         &lt;- Restore A reg &amp; flags</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1709">1709</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1709"></span><span class="anchor" id="line-1709"></span>      reti           &lt;- Return from interrupt</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1710">1710</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1710"></span><span class="anchor" id="line-1710"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1711">1711</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1711"></span><span class="anchor" id="line-1711"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1712">1712</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1712"></span><span class="anchor" id="line-1712"></span>FF47</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1713">1713</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1713"></span><span class="anchor" id="line-1713"></span>   Name     - BGP</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1714">1714</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1714"></span><span class="anchor" id="line-1714"></span>   Contents - BG &amp; Window Palette Data  (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1715">1715</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1715"></span><span class="anchor" id="line-1715"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1716">1716</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1716"></span><span class="anchor" id="line-1716"></span>              Bit 7-6 - Data for Dot Data 11 (Normally darkest color)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1717">1717</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1717"></span><span class="anchor" id="line-1717"></span>              Bit 5-4 - Data for Dot Data 10</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1718">1718</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1718"></span><span class="anchor" id="line-1718"></span>              Bit 3-2 - Data for Dot Data 01</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1719">1719</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1719"></span><span class="anchor" id="line-1719"></span>              Bit 1-0 - Data for Dot Data 00 (Normally lightest color)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1720">1720</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1720"></span><span class="anchor" id="line-1720"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1721">1721</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1721"></span><span class="anchor" id="line-1721"></span>              This selects the shade of grays to use for</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1722">1722</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1722"></span><span class="anchor" id="line-1722"></span>              the background (BG) &amp; window pixels. Since</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1723">1723</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1723"></span><span class="anchor" id="line-1723"></span>              each pixel uses 2 bits, the corresponding</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1724">1724</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1724"></span><span class="anchor" id="line-1724"></span>              shade will be selected from here.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1725">1725</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1725"></span><span class="anchor" id="line-1725"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1726">1726</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1726"></span><span class="anchor" id="line-1726"></span>FF48</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1727">1727</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1727"></span><span class="anchor" id="line-1727"></span>   Name     - OBP0</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1728">1728</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1728"></span><span class="anchor" id="line-1728"></span>   Contents - Object Palette 0 Data (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1729">1729</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1729"></span><span class="anchor" id="line-1729"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1730">1730</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1730"></span><span class="anchor" id="line-1730"></span>              This selects the colors for sprite palette 0.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1731">1731</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1731"></span><span class="anchor" id="line-1731"></span>              It works exactly as BGP ($FF47) except each</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1732">1732</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1732"></span><span class="anchor" id="line-1732"></span>              each value of 0 is transparent.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1733">1733</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1733"></span><span class="anchor" id="line-1733"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1734">1734</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1734"></span><span class="anchor" id="line-1734"></span>FF49</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1735">1735</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1735"></span><span class="anchor" id="line-1735"></span>   Name     - OBP1</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1736">1736</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1736"></span><span class="anchor" id="line-1736"></span>   Contents - Object Palette 1 Data (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1737">1737</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1737"></span><span class="anchor" id="line-1737"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1738">1738</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1738"></span><span class="anchor" id="line-1738"></span>              This Selects the colors for sprite palette 1.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1739">1739</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1739"></span><span class="anchor" id="line-1739"></span>              It works exactly as OBP0 ($FF48).</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1740">1740</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1740"></span><span class="anchor" id="line-1740"></span>              See BGP for details.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1741">1741</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1741"></span><span class="anchor" id="line-1741"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1742">1742</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1742"></span><span class="anchor" id="line-1742"></span>FF4A</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1743">1743</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1743"></span><span class="anchor" id="line-1743"></span>   Name     - WY</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1744">1744</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1744"></span><span class="anchor" id="line-1744"></span>   Contents - Window Y Position  (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1745">1745</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1745"></span><span class="anchor" id="line-1745"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1746">1746</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1746"></span><span class="anchor" id="line-1746"></span>              0 &lt;= WY &lt;= 143</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1747">1747</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1747"></span><span class="anchor" id="line-1747"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1748">1748</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1748"></span><span class="anchor" id="line-1748"></span>              WY must be greater than or equal to 0 and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1749">1749</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1749"></span><span class="anchor" id="line-1749"></span>              must be less than or equal to 143 for</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1750">1750</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1750"></span><span class="anchor" id="line-1750"></span>              window to be visible.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1751">1751</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1751"></span><span class="anchor" id="line-1751"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1752">1752</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1752"></span><span class="anchor" id="line-1752"></span>FF4B</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1753">1753</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1753"></span><span class="anchor" id="line-1753"></span>   Name     - WX</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1754">1754</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1754"></span><span class="anchor" id="line-1754"></span>   Contents - Window X Position  (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1755">1755</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1755"></span><span class="anchor" id="line-1755"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1756">1756</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1756"></span><span class="anchor" id="line-1756"></span>              0 &lt;= WX &lt;= 166</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1757">1757</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1757"></span><span class="anchor" id="line-1757"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1758">1758</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1758"></span><span class="anchor" id="line-1758"></span>              WX must be greater than or equal to 0 and</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1759">1759</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1759"></span><span class="anchor" id="line-1759"></span>              must be less than or equal to 166 for</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1760">1760</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1760"></span><span class="anchor" id="line-1760"></span>              window to be visible.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1761">1761</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1761"></span><span class="anchor" id="line-1761"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1762">1762</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1762"></span><span class="anchor" id="line-1762"></span>              WX is offset from absolute screen coordinates</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1763">1763</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1763"></span><span class="anchor" id="line-1763"></span>              by 7. Setting the window to WX=7, WY=0 will</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1764">1764</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1764"></span><span class="anchor" id="line-1764"></span>              put the upper left corner of the window at</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1765">1765</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1765"></span><span class="anchor" id="line-1765"></span>              absolute screen coordinates 0,0.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1766">1766</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1766"></span><span class="anchor" id="line-1766"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1767">1767</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1767"></span><span class="anchor" id="line-1767"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1768">1768</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1768"></span><span class="anchor" id="line-1768"></span>              Lets say WY = 70 and WX = 87.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1769">1769</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1769"></span><span class="anchor" id="line-1769"></span>              The window would be positioned as so:</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1770">1770</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1770"></span><span class="anchor" id="line-1770"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1771">1771</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1771"></span><span class="anchor" id="line-1771"></span>               0                  80               159</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1772">1772</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1772"></span><span class="anchor" id="line-1772"></span>               ______________________________________</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1773">1773</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1773"></span><span class="anchor" id="line-1773"></span>            0 |                                      |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1774">1774</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1774"></span><span class="anchor" id="line-1774"></span>              |                   |                  |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1775">1775</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1775"></span><span class="anchor" id="line-1775"></span>              |                                      |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1776">1776</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1776"></span><span class="anchor" id="line-1776"></span>              |         Background Display           |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1777">1777</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1777"></span><span class="anchor" id="line-1777"></span>              |               Here                   |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1778">1778</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1778"></span><span class="anchor" id="line-1778"></span>              |                                      |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1779">1779</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1779"></span><span class="anchor" id="line-1779"></span>              |                                      |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1780">1780</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1780"></span><span class="anchor" id="line-1780"></span>           70 |         -         +------------------|</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1781">1781</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1781"></span><span class="anchor" id="line-1781"></span>              |                   | 80,70            |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1782">1782</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1782"></span><span class="anchor" id="line-1782"></span>              |                   |                  |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1783">1783</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1783"></span><span class="anchor" id="line-1783"></span>              |                   |  Window Display  |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1784">1784</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1784"></span><span class="anchor" id="line-1784"></span>              |                   |       Here       |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1785">1785</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1785"></span><span class="anchor" id="line-1785"></span>              |                   |                  |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1786">1786</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1786"></span><span class="anchor" id="line-1786"></span>              |                   |                  |</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1787">1787</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1787"></span><span class="anchor" id="line-1787"></span>          143 |___________________|__________________|</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1788">1788</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1788"></span><span class="anchor" id="line-1788"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1789">1789</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1789"></span><span class="anchor" id="line-1789"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1790">1790</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1790"></span><span class="anchor" id="line-1790"></span>          OBJ Characters (Sprites) can still enter the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1791">1791</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1791"></span><span class="anchor" id="line-1791"></span>          window. None of the window colors are</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1792">1792</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1792"></span><span class="anchor" id="line-1792"></span>          transparent so any background tiles under the</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1793">1793</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1793"></span><span class="anchor" id="line-1793"></span>          window are hidden.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1794">1794</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1794"></span><span class="anchor" id="line-1794"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1795">1795</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1795"></span><span class="anchor" id="line-1795"></span>FFFF</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1796">1796</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1796"></span><span class="anchor" id="line-1796"></span>   Name     - IE</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1797">1797</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1797"></span><span class="anchor" id="line-1797"></span>   Contents - Interrupt Enable (R/W)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1798">1798</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1798"></span><span class="anchor" id="line-1798"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1799">1799</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1799"></span><span class="anchor" id="line-1799"></span>              Bit 4: Transition from High to Low of Pin</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1800">1800</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1800"></span><span class="anchor" id="line-1800"></span>                     number P10-P13.</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1801">1801</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1801"></span><span class="anchor" id="line-1801"></span>              Bit 3: Serial I/O transfer complete</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1802">1802</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1802"></span><span class="anchor" id="line-1802"></span>              Bit 2: Timer Overflow</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1803">1803</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1803"></span><span class="anchor" id="line-1803"></span>              Bit 1: LCDC (see STAT)</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1804">1804</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1804"></span><span class="anchor" id="line-1804"></span>              Bit 0: V-Blank</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1805">1805</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1805"></span><span class="anchor" id="line-1805"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1806">1806</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1806"></span><span class="anchor" id="line-1806"></span>              0: disable</span>
<span class="line"><span class="LineNumber"><a href="#CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1807">1807</a> </span><span class="LineAnchor" id="CA-bf574d52b7281d1a10c563e709115fbc2e6dff94_1807"></span><span class="anchor" id="line-1807"></span>              1: enable</span>
</pre></div></div><h2>Attached Files</h2>To refer to attachments on a page, use <strong><tt>attachment:filename</tt></strong>,  as shown below in the list of files.  Do <strong>NOT</strong> use the URL of the <tt>[get]</tt> link,  since this is subject to change and can break easily.<ul><li>[<a href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=get&amp;target=gbcribbw.pdf">get</a>&nbsp;| <a href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=view&amp;target=gbcribbw.pdf">view</a>] (2008-02-11 01:10:32, 69.5 KB) [[attachment:gbcribbw.pdf]]</li><li>[<a href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=get&amp;target=gbcribcolor.pdf">get</a>&nbsp;| <a href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=view&amp;target=gbcribcolor.pdf">view</a>] (2008-02-11 01:09:46, 728.5 KB) [[attachment:gbcribcolor.pdf]]</li><li>[<a href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=get&amp;target=gbspec.txt">get</a>&nbsp;| <a href="/cratel/ECE238Spr08/references?action=AttachFile&amp;do=view&amp;target=gbspec.txt">view</a>] (2008-03-07 10:53:47, 62.5 KB) [[attachment:gbspec.txt]]</li></ul><p>You are not allowed to attach a file to this page.</p><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="/cratel/ECE238Spr08/references?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/cratel/ECE238Spr08/references?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/cratel/ECE238Spr08/references">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="show" disabled class="disabled">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="EmailActivation">EmailActivation</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>
</html>

